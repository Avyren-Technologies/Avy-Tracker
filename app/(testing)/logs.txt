 (NOBRIDGE) LOG  ✅ Face registration status updated: {"apiResponse": {"active": false, "face_enabled": false, "face_registered": false, "isLocked": false, "lastVerification": null, "processingTime": 17, "qualityScore": null, "registered": false, "registrationDate": null, "statistics": {"averageConfidence": 0, "averageSuccessConfidence": 0, "failedAttempts": 0, "livenessDetectedCount": 0, "successfulAttempts": 0, "totalAttempts": 0}, "verificationCount": 0}, "enabled": false, "registered": false}
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Has timeout: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:08.785Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: false
 (NOBRIDGE) LOG  🔍 Face detected: false
 (NOBRIDGE) LOG  🔍 Face quality: false
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:08.800Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": undefined, "hasFaceData": false, "isLivenessActive": false}
 (NOBRIDGE) LOG  👁️ Not processing face data: {"reason": "No face data"}
 (NOBRIDGE) LOG  Modal hidden - stopping all detection processes
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391499:22)
    at commitHookEffectListMount (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31461:35)", "timestamp": "2025-09-14T21:48:08.809Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  👁️ Stopping liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection stopped
 (NOBRIDGE) LOG  Modal hidden - resetting verification state (not successful)
 (NOBRIDGE) LOG  🧹 === CLEANING UP FACE DETECTION ON UNMOUNT ===
 (NOBRIDGE) LOG  ✅ Face detection cleanup completed
 (NOBRIDGE) LOG  FaceVerificationModal cleanup - stopping all detection
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391232:24)
    at safelyCallDestroy (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31298:18)", "timestamp": "2025-09-14T21:48:08.875Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  👁️ Stopping liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection stopped
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Has timeout: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:09.009Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: false
 (NOBRIDGE) LOG  🔍 Face detected: false
 (NOBRIDGE) LOG  🔍 Face quality: false
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:09.026Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": undefined, "hasFaceData": false, "isLivenessActive": false}
 (NOBRIDGE) LOG  👁️ Not processing face data: {"reason": "No face data"}
 (NOBRIDGE) LOG  Modal hidden - stopping all detection processes
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391499:22)
    at commitHookEffectListMount (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31461:35)", "timestamp": "2025-09-14T21:48:09.035Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  👁️ Stopping liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection stopped
 (NOBRIDGE) LOG  Modal hidden - resetting verification state (not successful)
 (NOBRIDGE) WARN  ⚠️ Failed to connect camera reference after timeout
 (NOBRIDGE) LOG  🧹 === CLEANING UP FACE DETECTION ON UNMOUNT ===
 (NOBRIDGE) LOG  ✅ Face detection cleanup completed
 (NOBRIDGE) LOG  FaceVerificationModal cleanup - stopping all detection
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391232:24)
    at safelyCallDestroy (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31298:18)", "timestamp": "2025-09-14T21:48:12.186Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  👁️ Stopping liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection stopped
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Has timeout: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:12.213Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: false
 (NOBRIDGE) LOG  🔍 Face detected: false
 (NOBRIDGE) LOG  🔍 Face quality: false
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:12.230Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": undefined, "hasFaceData": false, "isLivenessActive": false}
 (NOBRIDGE) LOG  👁️ Not processing face data: {"reason": "No face data"}
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: initializing
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: false
 (NOBRIDGE) LOG  Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": false, "verificationStep": "initializing"}
 (NOBRIDGE) LOG  Modal visible - starting verification process
 (NOBRIDGE) LOG  🛡️ Detection active flag set - preventing modal cleanup
 (NOBRIDGE) WARN  ⚠️ Failed to connect camera reference after timeout
 (NOBRIDGE) LOG  Requesting camera permissions...
 (NOBRIDGE) LOG  App state changed: active -> background
 (NOBRIDGE) LOG  App went to background, keeping token refresh timer active
 (NOBRIDGE) LOG  Face detection app state changed: active -> background
 (NOBRIDGE) LOG  Liveness detection app state changed: active -> background
 (NOBRIDGE) LOG  App went to background, pausing liveness detection
 (NOBRIDGE) LOG  App state changed: background -> active
 (NOBRIDGE) LOG  App has come to the foreground!
 (NOBRIDGE) LOG  Face detection app state changed: background -> active
 (NOBRIDGE) LOG  Liveness detection app state changed: background -> active
 (NOBRIDGE) LOG  Initializing ML Kit Face Detection...
 (NOBRIDGE) LOG  ML Kit detector available, checking methods: ["status", "error", "options"]
(NOBRIDGE) LOG  ML Kit Face Detection initialized successfully with config: {"classificationMode": true, "contourMode": true, "isTrackingEnabled": true, "landmarkMode": true, "minFaceSize": 0.1, "performanceMode": "accurate"}
 (NOBRIDGE) LOG  Testing ML Kit detector...
 (NOBRIDGE) LOG  ML Kit detector test completed successfully
 (NOBRIDGE) LOG  Initializing camera with performance mode: accurate
 (NOBRIDGE) LOG  🚀 Starting periodic face detection with ML Kit...
 (NOBRIDGE) LOG  🧪 Testing ML Kit detector before starting detection...
 (NOBRIDGE) LOG  ✅ ML Kit detector is ready and has detectFaces method
 (NOBRIDGE) LOG  📊 Setting isDetecting to true and starting interval...
 (NOBRIDGE) LOG  📊 Face detection state updated: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": true, "verificationStep": "detecting"}
 (NOBRIDGE) LOG  ⏰ Starting detection interval...
 (NOBRIDGE) LOG  ✅ Face detection interval started successfully
 (NOBRIDGE) LOG  📊 Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": true, "verificationStep": "detecting"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": false, "verificationStep": "initializing"}
 (NOBRIDGE) LOG  Modal visible - starting verification process
 (NOBRIDGE) LOG  🛡️ Detection active flag set - preventing modal cleanup
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: true
 (NOBRIDGE) LOG  🔍 Has interval: true
 (NOBRIDGE) LOG  🔍 Has timeout: true
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:14.373Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: false
 (NOBRIDGE) LOG  🔍 Face detected: false
 (NOBRIDGE) LOG  🔍 Face quality: false
 (NOBRIDGE) LOG  🔍 Is detecting: true
 (NOBRIDGE) LOG  🔍 Has interval: true
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:14.389Z
 (NOBRIDGE) LOG  Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": true, "verificationStep": "initializing"}
 (NOBRIDGE) LOG  Modal visible - starting verification process
 (NOBRIDGE) LOG  🛡️ Detection active flag set - preventing modal cleanup
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:14.616Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: false
 (NOBRIDGE) LOG  🔍 Persistent ref exists: false
 (NOBRIDGE) WARN  ❌ getCameraInstance: no camera available
 (NOBRIDGE) LOG  ❌ Skipping face detection - conditions not met: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true}
 (NOBRIDGE) LOG  🔍 Camera ref missing - detection will retry when camera is connected
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:14.917Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: false
 (NOBRIDGE) LOG  🔍 Persistent ref exists: false
 (NOBRIDGE) WARN  ❌ getCameraInstance: no camera available
 (NOBRIDGE) LOG  ❌ Skipping face detection - conditions not met: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true}
 (NOBRIDGE) LOG  🔍 Camera ref missing - detection will retry when camera is connected
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:15.226Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: false
 (NOBRIDGE) LOG  🔍 Persistent ref exists: false
 (NOBRIDGE) WARN  ❌ getCameraInstance: no camera available
 (NOBRIDGE) LOG  ❌ Skipping face detection - conditions not met: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true}
 (NOBRIDGE) LOG  🔍 Camera ref missing - detection will retry when camera is connected
 (NOBRIDGE) LOG  🔄 Face detection already running (interval active), skipping start request
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: detecting
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: false
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": true, "verificationStep": "detecting"}
 (NOBRIDGE) LOG  🔄 Face detection already running (interval active), skipping start request
 (NOBRIDGE) LOG  Camera onInitialized called
 (NOBRIDGE) LOG  Camera started - ensuring detection is running
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:15.535Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: false
 (NOBRIDGE) LOG  🔍 Persistent ref exists: false
 (NOBRIDGE) WARN  ❌ getCameraInstance: no camera available
 (NOBRIDGE) LOG  ❌ Skipping face detection - conditions not met: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true}
 (NOBRIDGE) LOG  🔍 Camera ref missing - detection will retry when camera is connected
 (NOBRIDGE) LOG  Camera initialized - connecting reference to face detection hook
 (NOBRIDGE) LOG  🔍 === SETTING CAMERA REFERENCE ===
 (NOBRIDGE) LOG  🔍 Camera component exists: true
 (NOBRIDGE) LOG  🔍 Component type: object
 (NOBRIDGE) LOG  🔍 Has component: true
 (NOBRIDGE) LOG  🔍 Component methods: ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"]
 (NOBRIDGE) LOG  🔍 Has takePhoto method: true
 (NOBRIDGE) LOG  🔍 Camera reference stored in persistent ref
 (NOBRIDGE) LOG  ✅ Camera reference set successfully: {"cameraRefType": "object", "hasCameraRef": true, "hasTakePhotoMethod": true, "persistentRefState": "valid"}
 (NOBRIDGE) LOG  🔄 Camera connected during active detection - detection will now proceed
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:15.850Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:16.166Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:16.484Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy556556915428017495.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy556556915428017495.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:16.801Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy7232069904008757422.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy7232069904008757422.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:17.135Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8090567229049961077.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8090567229049961077.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 581684, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy556556915428017495.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy556556915428017495.jpg", "size": 581684, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy556556915428017495.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  Photo file read successfully, content length: 775580
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 597338, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy7232069904008757422.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy7232069904008757422.jpg", "size": 597338, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy7232069904008757422.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  Photo file read successfully, content length: 796452
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:17.435Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy556556915428017495.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy556556915428017495.jpg"}
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2016176744051392448.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2016176744051392448.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 585541, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8090567229049961077.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8090567229049961077.jpg", "size": 585541, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8090567229049961077.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  Photo file read successfully, content length: 780724
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy7232069904008757422.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy7232069904008757422.jpg"}
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:17.752Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2089981470545457932.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2089981470545457932.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8090567229049961077.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8090567229049961077.jpg"}
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -1.6029771566390991, "headEulerAngleY": 3.974605083465576, "headEulerAngleZ": -3.0638809204101562, "landmarks": [Array], "leftEyeOpenProbability": 0.9942908883094788, "rightEyeOpenProbability": 0.9999999403953552, "smilingProbability": 0.0058485232293605804, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy556556915428017495.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -1.6029771566390991, "y": 3.974605083465576, "z": -3.0638809204101562}, "leftEyeOpen": 0.9942908883094788, "rightEyeOpen": 0.9999999403953552, "smiling": 0.0058485232293605804, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.0058485232293605804, "neutral": 0.9941514767706394, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -1.6029771566390991, "y": 3.974605083465576, "z": -3.0638809204101562}, "smiling": 0.0058485232293605804}, "bounds": {"height": 668, "width": 668, "x": 218, "y": 406}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9942908883094788, "rightEyeOpenProbability": 0.9999999403953552, "rollAngle": -3.0638809204101562, "timestamp": 1757886498036, "trackingId": "0", "yawAngle": 3.974605083465576}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 668, "width": 668, "x": 218, "y": 406}, "faceArea": 446224, "faceRatio": 0.23240833333333333, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.9337565819422404, "lightingQuality": 1, "overall": 0.9153103079160055, "sizeQuality": 0.8379583333333334, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9153103079160055
 (NOBRIDGE) LOG  🔄 Detection interval cleared - face found
 (NOBRIDGE) LOG  ⏰ Detection timeout cleared - face found
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2189.54ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Has timeout: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:18.120Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:18.138Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886498036, "hasFaceData": true, "isLivenessActive": false}
 (NOBRIDGE) LOG  👁️ Not processing face data: {"reason": "Liveness not active"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "detecting"}
 (NOBRIDGE) LOG  Moving to liveness detection step - good quality face detected
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391349:24)
    at commitHookEffectListMount (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31461:35)", "timestamp": "2025-09-14T21:48:18.152Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 547978, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2016176744051392448.jpg"}
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2007900274520729926.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2007900274520729926.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2016176744051392448.jpg", "size": 547978, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2016176744051392448.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: liveness
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: false
 (NOBRIDGE) LOG  🔒 Enabling camera keep-alive to prevent native view detachment
 (NOBRIDGE) LOG  🔒 Enabling camera keep-alive
 (NOBRIDGE) LOG  🔄 Critical transition detected - stabilizing camera component
 (NOBRIDGE) LOG  🔒 Monitoring camera persistence during liveness/capturing...
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  ⏰ Starting countdown timer: 5
 (NOBRIDGE) LOG  ⚠️ Liveness timeout but face detected - proceeding to capture (ultra-forgiving)
 (NOBRIDGE) LOG  🔒 Keeping camera active during transition to prevent native view detachment
 (NOBRIDGE) LOG  🔍 Stabilizing camera for final capture...
 (NOBRIDGE) LOG  Photo file read successfully, content length: 730640
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: capturing
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: true
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 556809, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2089981470545457932.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2089981470545457932.jpg", "size": 556809, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2089981470545457932.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) ERROR  ❌ Photo capture failed: [unknown/unknown: Camera is closed.]
 (NOBRIDGE) LOG  Photo capture error details: {"cameraState": {"hasTakePhoto": true, "isActive": true}, "errorMessage": "Camera is closed.", "errorType": "CameraRuntimeError"}
 (NOBRIDGE) LOG  Photo file read successfully, content length: 742412
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  👁️ Starting liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection started successfully
 (NOBRIDGE) LOG  Camera onInitialized called
 (NOBRIDGE) LOG  Camera started - ensuring detection is running
 (NOBRIDGE) LOG  Camera started - ensuring detection is running
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -3.717620611190796, "headEulerAngleY": 2.7748289108276367, "headEulerAngleZ": -2.5916874408721924, "landmarks": [Array], "leftEyeOpenProbability": 0.9974813461303711, "rightEyeOpenProbability": 0.9997256398200989, "smilingProbability": 0.006722430698573589, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy7232069904008757422.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -3.717620611190796, "y": 2.7748289108276367, "z": -2.5916874408721924}, "leftEyeOpen": 0.9974813461303711, "rightEyeOpen": 0.9997256398200989, "smiling": 0.006722430698573589, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.006722430698573589, "neutral": 0.9932775693014264, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -3.717620611190796, "y": 2.7748289108276367, "z": -2.5916874408721924}, "smiling": 0.006722430698573589}, "bounds": {"height": 657, "width": 657, "x": 261, "y": 440}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9974813461303711, "rightEyeOpenProbability": 0.9997256398200989, "rollAngle": -2.5916874408721924, "timestamp": 1757886498583, "trackingId": "0", "yawAngle": 2.7748289108276367}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 657, "width": 657, "x": 261, "y": 440}, "faceArea": 431649, "faceRatio": 0.2248171875, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.953752851486206, "lightingQuality": 1, "overall": 0.9364914804458618, "sizeQuality": 0.8759140625000001, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9364914804458618
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2422.62ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2016176744051392448.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2016176744051392448.jpg"}
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:18.744Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886498583, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9974813461303711, "rightEye": 0.9997256398200989, "timestamp": 1757886498583}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.999", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 1, "leftEye": "0.997", "rightEye": "1.000"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 1, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 0, "blinkScore": 0, "historyLength": 1, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.020", "timeScore": "0.100"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  ✅ Camera component stabilized for critical transition
 (NOBRIDGE) LOG  Camera initialized - connecting reference to face detection hook
 (NOBRIDGE) LOG  🔍 === SETTING CAMERA REFERENCE ===
 (NOBRIDGE) LOG  🔍 Camera component exists: true
 (NOBRIDGE) LOG  🔍 Component type: object
 (NOBRIDGE) LOG  🔍 Has component: true
 (NOBRIDGE) LOG  🔍 Component methods: ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"]
 (NOBRIDGE) LOG  🔍 Has takePhoto method: true
 (NOBRIDGE) LOG  🔍 Camera reference stored in persistent ref
 (NOBRIDGE) LOG  ✅ Camera reference set successfully: {"cameraRefType": "object", "hasCameraRef": true, "hasTakePhotoMethod": true, "persistentRefState": "valid"}
 (NOBRIDGE) LOG  🔍 Proactively monitoring camera state...
 (NOBRIDGE) LOG  🔍 === CAMERA STATE MONITORING ===
 (NOBRIDGE) LOG  🔍 Camera ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  🔍 Camera ref state: valid
 (NOBRIDGE) LOG  ✅ Camera state is healthy - proceeding with capture
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 545983, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2007900274520729926.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2007900274520729926.jpg", "size": 545983, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2007900274520729926.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2089981470545457932.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2089981470545457932.jpg"}
 (NOBRIDGE) LOG  Photo file read successfully, content length: 727980
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -6.986222743988037, "headEulerAngleY": 1.8750673532485962, "headEulerAngleZ": -3.7154812812805176, "landmarks": [Array], "leftEyeOpenProbability": 0.9987824559211731, "rightEyeOpenProbability": 0.9988862872123718, "smilingProbability": 0.0062830084934830666, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8090567229049961077.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -6.986222743988037, "y": 1.8750673532485962, "z": -3.7154812812805176}, "leftEyeOpen": 0.9987824559211731, "rightEyeOpen": 0.9988862872123718, "smiling": 0.0062830084934830666, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.0062830084934830666, "neutral": 0.9937169915065169, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -6.986222743988037, "y": 1.8750673532485962, "z": -3.7154812812805176}, "smiling": 0.0062830084934830666}, "bounds": {"height": 686, "width": 687, "x": 263, "y": 408}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9987824559211731, "rightEyeOpenProbability": 0.9988862872123718, "rollAngle": -3.7154812812805176, "timestamp": 1757886499095, "trackingId": "0", "yawAngle": 1.8750673532485962}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 686, "width": 687, "x": 263, "y": 408}, "faceArea": 471282, "faceRatio": 0.245459375, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.938075311978658, "lightingQuality": 1, "overall": 0.8905038435935975, "sizeQuality": 0.772703125, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.8905038435935975
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2636.05ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2007900274520729926.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2007900274520729926.jpg"}
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:19.231Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886499095, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9987824559211731, "rightEye": 0.9988862872123718, "timestamp": 1757886499095}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.999", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 2, "leftEye": "0.999", "rightEye": "0.999"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 2, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 0, "blinkScore": 0, "historyLength": 2, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.040", "timeScore": "0.200"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  🔍 === CAMERA STATE MONITORING ===
 (NOBRIDGE) LOG  🔍 Camera ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  🔍 Camera ref state: valid
 (NOBRIDGE) LOG  🔒 Camera health check result: true
 (NOBRIDGE) LOG  🔍 === COMPREHENSIVE CAMERA STATE VALIDATION ===
 (NOBRIDGE) LOG  🔍 Camera ref exists: true
 (NOBRIDGE) LOG  🔍 Camera ref type: object
 (NOBRIDGE) LOG  🔍 Camera methods available: ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"]
 (NOBRIDGE) LOG  🔍 Has takePhoto method: true
 (NOBRIDGE) LOG  🔍 Camera props: {"audio": false, "device": {"formats": [[Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object]], "hardwareLevel": "full", "hasFlash": false, "hasTorch": false, "id": "1", "isMultiCam": false, "maxExposure": 24, "maxZoom": 10, "minExposure": -24, "minFocusDistance": 0, "minZoom": 1, "name": "1 (FRONT) androidx.camera.camera2", "neutralZoom": 1, "physicalDevices": ["wide-angle-camera"], "position": "front", "sensorOrientation": "landscape-right", "supportsFocus": true, "supportsLowLightBoost": false, "supportsRawCapture": false}, "frameProcessor": {"frameProcessor": [Function withFrameRefCountingTs1], "type": "readonly"}, "isActive": true, "onError": [Function onError], "onInitialized": [Function onInitialized], "onStarted": [Function onStarted], "photo": true, "style": {"height": "100%", "width": "100%"}, "video": false}
 (NOBRIDGE) LOG  🔍 Camera state: {"averageFpsSamples": [], "isRecordingWithFlash": false}
 (NOBRIDGE) LOG  🔍 Camera display name: Camera
 (NOBRIDGE) LOG  ✅ Camera validation passed - proceeding with capture
 (NOBRIDGE) LOG  Capturing photo with validated face...
 (NOBRIDGE) LOG  🔍 Validating camera state before final capture...
 (NOBRIDGE) LOG  ✅ Camera validation successful on attempt 1
 (NOBRIDGE) LOG  📸 Final camera state validation before photo capture...
 (NOBRIDGE) LOG  ✅ Camera health check passed
 (NOBRIDGE) LOG  capturePhoto called with: {"cameraRefCurrent": {"_reactInternalInstance": {}, "_reactInternals": {"_debugHookTypes": null, "_debugInfo": null, "_debugNeedsRemount": false, "_debugOwner": [FiberNode], "actualDuration": 0.20479099825024605, "actualStartTime": 33384728.20959, "alternate": [FiberNode], "child": [FiberNode], "childLanes": 0, "deletions": null, "dependencies": null, "elementType": [Function Camera], "flags": 2097157, "index": 0, "key": "stable", "lanes": 0, "memoizedProps": [Object], "memoizedState": [Object], "mode": 3, "pendingProps": [Object], "ref": [Object], "refCleanup": null, "return": [FiberNode], "selfBaseDuration": 0.15671899914741516, "sibling": [FiberNode], "stateNode": [Circular], "subtreeFlags": 2097152, "tag": 1, "treeBaseDuration": 0.16765600070357323, "type": [Function Camera], "updateQueue": [Object]}, "context": {}, "displayName": "Camera", "isNativeViewMounted": true, "lastFrameProcessor": [Function withFrameRefCountingTs1], "lastUIRotation": 0, "onAverageFpsChanged": [Function bound onAverageFpsChanged], "onCodeScanned": [Function bound onCodeScanned], "onError": [Function bound onError], "onInitialized": [Function bound onInitialized], "onOutputOrientationChanged": [Function bound onOutputOrientationChanged], "onPreviewOrientationChanged": [Function bound onPreviewOrientationChanged], "onPreviewStarted": [Function bound onPreviewStarted], "onPreviewStopped": [Function bound onPreviewStopped], "onShutter": [Function bound onShutter], "onStarted": [Function bound onStarted], "onStopped": [Function bound onStopped], "onViewReady": [Function bound onViewReady], "props": {"audio": false, "device": [Object], "frameProcessor": [Object], "isActive": true, "onError": [Function onError], "onInitialized": [Function onInitialized], "onStarted": [Function onStarted], "photo": true, "style": [Object], "video": false}, "ref": {"current": [ReactFabricHostComponent]}, "refs": {}, "rotationHelper": {"outputOrientation": "portrait", "previewOrientation": "portrait"}, "state": {"averageFpsSamples": [Array], "isRecordingWithFlash": false}, "updater": {"enqueueForceUpdate": [Function enqueueForceUpdate], "enqueueReplaceState": [Function enqueueReplaceState], "enqueueSetState": [Function enqueueSetState], "isMounted": [Function isMounted]}}, "cameraRefState": "valid", "hasCameraRef": true, "hasTakePhotoMethod": true, "isInitialized": true}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  Capturing photo with validated face...
 (NOBRIDGE) LOG  🔍 Validating camera state before final capture...
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -7.349794387817383, "headEulerAngleY": 1.8044464588165283, "headEulerAngleZ": -2.534027338027954, "landmarks": [Array], "leftEyeOpenProbability": 0.9987824559211731, "rightEyeOpenProbability": 0.9968274235725403, "smilingProbability": 0.006722430698573589, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2016176744051392448.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -7.349794387817383, "y": 1.8044464588165283, "z": -2.534027338027954}, "leftEyeOpen": 0.9987824559211731, "rightEyeOpen": 0.9968274235725403, "smiling": 0.006722430698573589, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.006722430698573589, "neutral": 0.9932775693014264, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -7.349794387817383, "y": 1.8044464588165283, "z": -2.534027338027954}, "smiling": 0.006722430698573589}, "bounds": {"height": 681, "width": 681, "x": 241, "y": 444}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9987824559211731, "rightEyeOpenProbability": 0.9968274235725403, "rollAngle": -2.534027338027954, "timestamp": 1757886499517, "trackingId": "0", "yawAngle": 1.8044464588165283}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 681, "width": 681, "x": 241, "y": 444}, "faceArea": 463761, "faceRatio": 0.2415421875, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.9577662110328674, "lightingQuality": 1, "overall": 0.9042454883098603, "sizeQuality": 0.7922890625000001, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9042454883098603
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2719.74ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:19.608Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886499517, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9987824559211731, "rightEye": 0.9968274235725403, "timestamp": 1757886499517}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.998", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 3, "leftEye": "0.999", "rightEye": "0.997"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 3, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 0, "blinkScore": 0, "historyLength": 3, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.060", "timeScore": "0.300"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  ✅ Camera validation successful on attempt 1
 (NOBRIDGE) LOG  📸 Final camera state validation before photo capture...
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -4.111998081207275, "headEulerAngleY": 2.5490806102752686, "headEulerAngleZ": -2.1602261066436768, "landmarks": [Array], "leftEyeOpenProbability": 0.9952254295349121, "rightEyeOpenProbability": 0.99802166223526, "smilingProbability": 0.0071668741293251514, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2089981470545457932.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -4.111998081207275, "y": 2.5490806102752686, "z": -2.1602261066436768}, "leftEyeOpen": 0.9952254295349121, "rightEyeOpen": 0.99802166223526, "smiling": 0.0071668741293251514, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.0071668741293251514, "neutral": 0.9928331258706748, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -4.111998081207275, "y": 2.5490806102752686, "z": -2.1602261066436768}, "smiling": 0.0071668741293251514}, "bounds": {"height": 659, "width": 659, "x": 243, "y": 466}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9952254295349121, "rightEyeOpenProbability": 0.99802166223526, "rollAngle": -2.1602261066436768, "timestamp": 1757886499934, "trackingId": "0", "yawAngle": 2.5490806102752686}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 659, "width": 659, "x": 243, "y": 466}, "faceArea": 434281, "faceRatio": 0.22618802083333334, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.9575153231620789, "lightingQuality": 1, "overall": 0.9348785552819571, "sizeQuality": 0.8690598958333333, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9348785552819571
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2805.31ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:20.033Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886499934, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9952254295349121, "rightEye": 0.99802166223526, "timestamp": 1757886499934}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.997", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 4, "leftEye": "0.995", "rightEye": "0.998"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 4, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 0, "blinkScore": 0, "historyLength": 4, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.080", "timeScore": "0.400"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  ✅ Photo capture successful: {"height": 1200, "isMirrored": true, "isRawPhoto": false, "orientation": "portrait", "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy6930971414763745562.jpg", "width": 1600}
 (NOBRIDGE) WARN  Value being stored in SecureStore is larger than 2048 bytes and it may not be stored successfully. In a future SDK version, this call may throw an error.
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -5.339361667633057, "headEulerAngleY": 1.985049843788147, "headEulerAngleZ": -1.2027143239974976, "landmarks": [Array], "leftEyeOpenProbability": 0.9983530044555664, "rightEyeOpenProbability": 0.998600959777832, "smilingProbability": 0.0071668741293251514, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2007900274520729926.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -5.339361667633057, "y": 1.985049843788147, "z": -1.2027143239974976}, "leftEyeOpen": 0.9983530044555664, "rightEyeOpen": 0.998600959777832, "smiling": 0.0071668741293251514, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.0071668741293251514, "neutral": 0.9928331258706748, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -5.339361667633057, "y": 1.985049843788147, "z": -1.2027143239974976}, "smiling": 0.0071668741293251514}, "bounds": {"height": 660, "width": 660, "x": 239, "y": 456}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9983530044555664, "rightEyeOpenProbability": 0.998600959777832, "rollAngle": -1.2027143239974976, "timestamp": 1757886500361, "trackingId": "0", "yawAngle": 1.985049843788147}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 660, "width": 660, "x": 239, "y": 456}, "faceArea": 435600, "faceRatio": 0.226875, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.9669158359368643, "lightingQuality": 1, "overall": 0.9363247507810593, "sizeQuality": 0.8656250000000001, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9363247507810593
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2935.47ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  ✅ Photo capture successful: {"height": 1200, "timestamp": 1757886500349, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy6930971414763745562.jpg", "width": 1600}
 (NOBRIDGE) LOG  🔍 Face encoding generation started: {"bounds": {"height": 668, "width": 668}, "eyeProbabilities": {"left": 0.9942908883094788, "right": 0.9999999403953552}, "landmarksCount": 10, "photoDimensions": {"height": 1200, "width": 1600}}
 (NOBRIDGE) LOG  🔍 MLKit landmark analysis: {"actualCount": 20, "expectedCount": 936, "landmarkModel": "10-point"}
 (NOBRIDGE) WARN  ⚠️ MLKit provided 20 landmarks (10-point model), adapting encoding strategy
 (NOBRIDGE) LOG  ✅ Adapted landmark encoding: 20 → 20 features
 (NOBRIDGE) LOG  ✅ Landmark features extracted: {"count": 20}
 (NOBRIDGE) LOG  📐 Geometric features calculated: {"angles": {"roll": "-3.06", "yaw": "3.97"}, "eyeProbabilities": {"left": "0.9943", "right": "1.0000"}, "facePosition": {"x": "0.1363", "y": "0.3383"}, "faceSize": {"height": "0.5567", "width": "0.4175"}, "nonZeroFeatures": 10, "totalFeatures": 10}
 (NOBRIDGE) LOG  🔍 Landmark count: 10, adapting measurement strategy
 (NOBRIDGE) WARN  ⚠️ Landmark index 123 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 352 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 10 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 10 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 11 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 11 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 12 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 12 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 13 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 13 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 14 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 14 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 15 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 15 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 16 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 16 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 17 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 17 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 18 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 18 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 19 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 19 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 20 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 20 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 21 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 21 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 22 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 22 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 23 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 23 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 24 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 24 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 25 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 25 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 26 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 26 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 27 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 27 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 28 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 28 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 29 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 29 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 30 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 30 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 31 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 31 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 32 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 32 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 33 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 33 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 34 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 34 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 35 out of bounds (max: 9)
 (NOBRIDGE) LOG  📏 Facial measurements calculated: {"eyeDistance": "0.0506", "faceAspectRatio": "0.7500", "facialSymmetry": "NaN", "nonZeroMeasurements": 46, "totalMeasurements": 51}
 (NOBRIDGE) WARN  ⚠️ Invalid features detected, replacing with neutral values
 (NOBRIDGE) LOG  🔍 Face encoding generation completed: {"actualDimensions": 1002, "expectedDimensions": 1002, "featureRange": {"avg": "0.9586", "max": "1.0000", "min": "-0.0534"}, "totalFeatures": 1002, "validFeatures": 999}
 (NOBRIDGE) LOG  ✅ Face encoding generated successfully: {"encodingLength": 5344, "preview": "16OwPt7dHT/Xo7A+3t0dP9ejsD7e3R0/16OwPt7dHT/Xo7A+3t..."}
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:20.523Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886500361, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9983530044555664, "rightEye": 0.998600959777832, "timestamp": 1757886500361}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.998", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 5, "leftEye": "0.998", "rightEye": "0.999"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 5, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Checking blink pattern at index 2 : {"curr": "0.998", "currClosed": false, "next": "0.997", "nextOpen": true, "prev": "0.999", "prevOpen": true}
 (NOBRIDGE) LOG  👁️ Micro-movement analysis: {"avgBaseline": "0.9977", "curr": "0.9978", "dipAmount": "0.0010", "next": "0.9966", "prev": "0.9988"}
 (NOBRIDGE) LOG  👁️ ✅ MICRO-MOVEMENT DETECTED! {"dipAmount": "0.0010", "threshold": "0.001"}
 (NOBRIDGE) LOG  👁️ Setting blinkDetected to true
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 1, "blinkScore": 1, "historyLength": 5, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.600", "timeScore": "0.500"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  👁️ ✅ MICRO-MOVEMENT BLINK! Count: 1
 (NOBRIDGE) WARN  AES encryption failed, falling back to Expo crypto: [TypeError: 0, _reactNativeAesCrypto.encrypt is not a function (it is undefined)]
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: processing
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: true
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "processing"}
 (NOBRIDGE) WARN  Value being stored in SecureStore is larger than 2048 bytes and it may not be stored successfully. In a future SDK version, this call may throw an error.
 (NOBRIDGE) LOG  Face profile cached for user 15
 (NOBRIDGE) LOG  Face profile stored successfully for user: 15
 (NOBRIDGE) LOG  🛡️ Detection active flag reset - allowing cleanup
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: success
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: true
 (NOBRIDGE) LOG  🔒 Keeping camera active for multi-angle registration...
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "success"}
 (NOBRIDGE) LOG  Face registration successful for angle: 0 {"confidence": 1, "faceEncoding": "16OwPt7dHT/Xo7A+3t0dP9ejsD7e3R0/16OwPt7dHT/Xo7A+3t0dP9ejsD7e3R0/16OwPt7dHT/Xo7A+3t0dP9ejsD7e3R0/16OwPt7dHT8fhQs+BzqtPo/C1T61gQ4/2Yl+P///fz+v7Vq9UqJ/P6v0jT1hYn8/yFtPPQAAAAAAAAAAAAAAAOA7Ej5voqs9j8LVPrWBDj8AAEA/AAAAPwAAAABWpBo/AAAAPwAAAD8AAAAAyFtPPWF6zD0NN2g9fbGVPTto4T0EhJQ9SdmMPTVnUj06y4g918DkPZ6yoj0AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD/4pL87AAAAAAAAAD/ZKOW8q/SNPa/tWr0AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/", "isOffline": false, "livenessDetected": false, "success": true, "timestamp": 2025-09-14T21:48:20.717Z}
 (NOBRIDGE) LOG  🧹 === CLEANING UP FACE DETECTION ON UNMOUNT ===
 (NOBRIDGE) LOG  🧹 Cleaning up main camera ref
 (NOBRIDGE) LOG  🧹 Cleaning up persistent camera ref
 (NOBRIDGE) LOG  ✅ Face detection cleanup completed
 (NOBRIDGE) LOG  FaceVerificationModal cleanup - stopping all detection
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391232:24)
    at safelyCallDestroy (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31298:18)", "timestamp": "2025-09-14T21:48:22.857Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  👁️ Stopping liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection stopped
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Has timeout: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:22.879Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: false
 (NOBRIDGE) LOG  🔍 Face detected: false
 (NOBRIDGE) LOG  🔍 Face quality: false
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:22.895Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": undefined, "hasFaceData": false, "isLivenessActive": false}
 (NOBRIDGE) LOG  👁️ Not processing face data: {"reason": "No face data"}
 (NOBRIDGE) LOG  Modal hidden - stopping all detection processes
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391499:22)
    at commitHookEffectListMount (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31461:35)", "timestamp": "2025-09-14T21:48:22.904Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  👁️ Stopping liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection stopped
 (NOBRIDGE) LOG  Modal hidden - resetting verification state (not successful)
 (NOBRIDGE) WARN  ⚠️ Failed to connect camera reference after timeout
 (NOBRIDGE) LOG  🧹 === CLEANING UP FACE DETECTION ON UNMOUNT ===
 (NOBRIDGE) LOG  ✅ Face detection cleanup completed
 (NOBRIDGE) LOG  FaceVerificationModal cleanup - stopping all detection
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391232:24)
    at safelyCallDestroy (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31298:18)", "timestamp": "2025-09-14T21:48:25.514Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  👁️ Stopping liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection stopped
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Has timeout: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:25.536Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: false
 (NOBRIDGE) LOG  🔍 Face detected: false
 (NOBRIDGE) LOG  🔍 Face quality: false
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:25.552Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": undefined, "hasFaceData": false, "isLivenessActive": false}
 (NOBRIDGE) LOG  👁️ Not processing face data: {"reason": "No face data"}
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: initializing
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: false
 (NOBRIDGE) LOG  Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": false, "verificationStep": "initializing"}
 (NOBRIDGE) LOG  Modal visible - starting verification process
 (NOBRIDGE) LOG  🛡️ Detection active flag set - preventing modal cleanup
 (NOBRIDGE) WARN  ⚠️ Failed to connect camera reference after timeout
 (NOBRIDGE) LOG  Requesting camera permissions...
 (NOBRIDGE) LOG  App state changed: active -> background
 (NOBRIDGE) LOG  App went to background, keeping token refresh timer active
 (NOBRIDGE) LOG  Face detection app state changed: active -> background
 (NOBRIDGE) LOG  Liveness detection app state changed: active -> background
 (NOBRIDGE) LOG  App went to background, pausing liveness detection
 (NOBRIDGE) LOG  App state changed: background -> active
 (NOBRIDGE) LOG  App has come to the foreground!
 (NOBRIDGE) LOG  Face detection app state changed: background -> active
 (NOBRIDGE) LOG  Liveness detection app state changed: background -> active
 (NOBRIDGE) LOG  Initializing ML Kit Face Detection...
 (NOBRIDGE) LOG  ML Kit detector available, checking methods: ["status", "error", "options"]
 (NOBRIDGE) LOG  ML Kit Face Detection initialized successfully with config: {"classificationMode": true, "contourMode": true, "isTrackingEnabled": true, "landmarkMode": true, "minFaceSize": 0.1, "performanceMode": "accurate"}
 (NOBRIDGE) LOG  Testing ML Kit detector...
 (NOBRIDGE) LOG  ML Kit detector test completed successfully
 (NOBRIDGE) LOG  Initializing camera with performance mode: accurate
 (NOBRIDGE) LOG  🚀 Starting periodic face detection with ML Kit...
 (NOBRIDGE) LOG  🧪 Testing ML Kit detector before starting detection...
 (NOBRIDGE) LOG  ✅ ML Kit detector is ready and has detectFaces method
 (NOBRIDGE) LOG  📊 Setting isDetecting to true and starting interval...
 (NOBRIDGE) LOG  📊 Face detection state updated: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": true, "verificationStep": "detecting"}
 (NOBRIDGE) LOG  ⏰ Starting detection interval...
 (NOBRIDGE) LOG  ✅ Face detection interval started successfully
 (NOBRIDGE) LOG  📊 Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": true, "verificationStep": "detecting"}
(NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:27.276Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: false
 (NOBRIDGE) LOG  🔍 Persistent ref exists: false
 (NOBRIDGE) WARN  ❌ getCameraInstance: no camera available
 (NOBRIDGE) LOG  ❌ Skipping face detection - conditions not met: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true}
 (NOBRIDGE) LOG  🔍 Camera ref missing - detection will retry when camera is connected
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: true
 (NOBRIDGE) LOG  🔍 Has interval: true
 (NOBRIDGE) LOG  🔍 Has timeout: true
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:27.299Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: false
 (NOBRIDGE) LOG  🔍 Face detected: false
 (NOBRIDGE) LOG  🔍 Face quality: false
 (NOBRIDGE) LOG  🔍 Is detecting: true
 (NOBRIDGE) LOG  🔍 Has interval: true
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:27.317Z
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: detecting
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: false
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": true, "verificationStep": "detecting"}
 (NOBRIDGE) LOG  Camera onInitialized called
 (NOBRIDGE) LOG  Camera started - ensuring detection is running
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:27.460Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: false
 (NOBRIDGE) LOG  🔍 Persistent ref exists: false
 (NOBRIDGE) WARN  ❌ getCameraInstance: no camera available
 (NOBRIDGE) LOG  ❌ Skipping face detection - conditions not met: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true}
 (NOBRIDGE) LOG  🔍 Camera ref missing - detection will retry when camera is connected
 (NOBRIDGE) LOG  Camera initialized - connecting reference to face detection hook
 (NOBRIDGE) LOG  🔍 === SETTING CAMERA REFERENCE ===
 (NOBRIDGE) LOG  🔍 Camera component exists: true
 (NOBRIDGE) LOG  🔍 Component type: object
 (NOBRIDGE) LOG  🔍 Has component: true
 (NOBRIDGE) LOG  🔍 Component methods: ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"]
 (NOBRIDGE) LOG  🔍 Has takePhoto method: true
 (NOBRIDGE) LOG  🔍 Camera reference stored in persistent ref
 (NOBRIDGE) LOG  ✅ Camera reference set successfully: {"cameraRefType": "object", "hasCameraRef": true, "hasTakePhotoMethod": true, "persistentRefState": "valid"}
 (NOBRIDGE) LOG  🔄 Camera connected during active detection - detection will now proceed
 (NOBRIDGE) ERROR  Frame processor error: {}
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:27.776Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:28.084Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) ERROR  Frame processor error: {}
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:28.402Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2101527011540331356.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2101527011540331356.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) ERROR  Frame processor error: {}
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:28.718Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8908250762774559824.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8908250762774559824.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) ERROR  Frame processor error: {}
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 593982, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2101527011540331356.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2101527011540331356.jpg", "size": 593982, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2101527011540331356.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  Photo file read successfully, content length: 791976
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:29.043Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5227497665924571089.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5227497665924571089.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 545732, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8908250762774559824.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8908250762774559824.jpg", "size": 545732, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8908250762774559824.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  Photo file read successfully, content length: 727644
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:29.350Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2101527011540331356.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2101527011540331356.jpg"}
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4986112049699469832.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4986112049699469832.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8908250762774559824.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8908250762774559824.jpg"}
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:29.667Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 576392, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5227497665924571089.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5227497665924571089.jpg", "size": 576392, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5227497665924571089.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  Photo file read successfully, content length: 768524
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy1310018604438041753.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy1310018604438041753.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -5.08435583114624, "headEulerAngleY": 11.89648151397705, "headEulerAngleZ": -1.4221758842468262, "landmarks": [Array], "leftEyeOpenProbability": 0.9996290802955627, "rightEyeOpenProbability": 0.9997256398200989, "smilingProbability": 0.007616420742124319, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2101527011540331356.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -5.08435583114624, "y": 11.89648151397705, "z": -1.4221758842468262}, "leftEyeOpen": 0.9996290802955627, "rightEyeOpen": 0.9997256398200989, "smiling": 0.007616420742124319, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.007616420742124319, "neutral": 0.9923835792578757, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -5.08435583114624, "y": 11.89648151397705, "z": -1.4221758842468262}, "smiling": 0.007616420742124319}, "bounds": {"height": 647, "width": 647, "x": 281, "y": 443}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9996290802955627, "rightEyeOpenProbability": 0.9997256398200989, "rollAngle": -1.4221758842468262, "timestamp": 1757886509843, "trackingId": "0", "yawAngle": 11.89648151397705}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 647, "width": 647, "x": 281, "y": 443}, "faceArea": 418609, "faceRatio": 0.21802552083333335, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.8017253081003824, "lightingQuality": 1, "overall": 0.9044665507634481, "sizeQuality": 0.9098723958333333, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9044665507634481
 (NOBRIDGE) LOG  🔄 Detection interval cleared - face found
 (NOBRIDGE) LOG  ⏰ Detection timeout cleared - face found
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2080.71ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) ERROR  Frame processor error: {}
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Has timeout: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:29.945Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:29.962Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886509843, "hasFaceData": true, "isLivenessActive": false}
 (NOBRIDGE) LOG  👁️ Not processing face data: {"reason": "Liveness not active"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "detecting"}
 (NOBRIDGE) LOG  Moving to liveness detection step - good quality face detected
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391349:24)
    at commitHookEffectListMount (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31461:35)", "timestamp": "2025-09-14T21:48:29.972Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5227497665924571089.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5227497665924571089.jpg"}
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: liveness
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: false
 (NOBRIDGE) LOG  🔒 Enabling camera keep-alive to prevent native view detachment
 (NOBRIDGE) LOG  🔒 Enabling camera keep-alive
 (NOBRIDGE) LOG  🔄 Critical transition detected - stabilizing camera component
 (NOBRIDGE) LOG  🔒 Monitoring camera persistence during liveness/capturing...
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  ⏰ Starting countdown timer: 5
 (NOBRIDGE) LOG  ⚠️ Liveness timeout but face detected - proceeding to capture (ultra-forgiving)
 (NOBRIDGE) LOG  🔒 Keeping camera active during transition to prevent native view detachment
 (NOBRIDGE) LOG  🔍 Stabilizing camera for final capture...
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 582257, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4986112049699469832.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4986112049699469832.jpg", "size": 582257, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4986112049699469832.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5631029387709838327.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5631029387709838327.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: capturing
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: true
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  Photo file read successfully, content length: 776344
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) ERROR  ❌ Photo capture failed: [unknown/unknown: Camera is closed.]
 (NOBRIDGE) LOG  Photo capture error details: {"cameraState": {"hasTakePhoto": true, "isActive": true}, "errorMessage": "Camera is closed.", "errorType": "CameraRuntimeError"}
 (NOBRIDGE) LOG  👁️ Starting liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection started successfully
 (NOBRIDGE) LOG  Camera onInitialized called
 (NOBRIDGE) LOG  Camera started - ensuring detection is running
 (NOBRIDGE) LOG  Camera started - ensuring detection is running
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 556730, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy1310018604438041753.jpg"}
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -2.931931972503662, "headEulerAngleY": 9.344099044799805, "headEulerAngleZ": -1.0341367721557617, "landmarks": [Array], "leftEyeOpenProbability": 0.9987824559211731, "rightEyeOpenProbability": 0.9999999403953552, "smilingProbability": 0.00994393602013588, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8908250762774559824.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -2.931931972503662, "y": 9.344099044799805, "z": -1.0341367721557617}, "leftEyeOpen": 0.9987824559211731, "rightEyeOpen": 0.9999999403953552, "smiling": 0.00994393602013588, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.00994393602013588, "neutral": 0.9900560639798641, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -2.931931972503662, "y": 9.344099044799805, "z": -1.0341367721557617}, "smiling": 0.00994393602013588}, "bounds": {"height": 634, "width": 634, "x": 282, "y": 460}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9987824559211731, "rightEyeOpenProbability": 0.9999999403953552, "rollAngle": -1.0341367721557617, "timestamp": 1757886510410, "trackingId": "0", "yawAngle": 9.344099044799805}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 634, "width": 634, "x": 282, "y": 460}, "faceArea": 401956, "faceRatio": 0.20935208333333333, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.8442650159200032, "lightingQuality": 1, "overall": 0.9345753381093345, "sizeQuality": 0.9532395833333334, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9345753381093345
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2331.39ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy1310018604438041753.jpg", "size": 556730, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy1310018604438041753.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
(NOBRIDGE) LOG  Photo file read successfully, content length: 742308
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4986112049699469832.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4986112049699469832.jpg"}
 (NOBRIDGE) LOG  Camera initialized - connecting reference to face detection hook
 (NOBRIDGE) LOG  🔍 === SETTING CAMERA REFERENCE ===
 (NOBRIDGE) LOG  🔍 Camera component exists: true
 (NOBRIDGE) LOG  🔍 Component type: object
 (NOBRIDGE) LOG  🔍 Has component: true
 (NOBRIDGE) LOG  🔍 Component methods: ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"]
 (NOBRIDGE) LOG  🔍 Has takePhoto method: true
 (NOBRIDGE) LOG  🔍 Camera reference stored in persistent ref
 (NOBRIDGE) LOG  ✅ Camera reference set successfully: {"cameraRefType": "object", "hasCameraRef": true, "hasTakePhotoMethod": true, "persistentRefState": "valid"}
 (NOBRIDGE) LOG  ✅ Camera component stabilized for critical transition
 (NOBRIDGE) LOG  🔍 Proactively monitoring camera state...
 (NOBRIDGE) LOG  🔍 === CAMERA STATE MONITORING ===
 (NOBRIDGE) LOG  🔍 Camera ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  🔍 Camera ref state: valid
 (NOBRIDGE) LOG  ✅ Camera state is healthy - proceeding with capture
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -4.295088291168213, "headEulerAngleY": 9.018854141235352, "headEulerAngleZ": -0.4513063132762909, "landmarks": [Array], "leftEyeOpenProbability": 0.9979193210601807, "rightEyeOpenProbability": 0.99802166223526, "smilingProbability": 0.008071166463196278, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5227497665924571089.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -4.295088291168213, "y": 9.018854141235352, "z": -0.4513063132762909}, "leftEyeOpen": 0.9979193210601807, "rightEyeOpen": 0.99802166223526, "smiling": 0.008071166463196278, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.008071166463196278, "neutral": 0.9919288335368037, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -4.295088291168213, "y": 9.018854141235352, "z": -0.4513063132762909}, "smiling": 0.008071166463196278}, "bounds": {"height": 656, "width": 656, "x": 269, "y": 454}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9979193210601807, "rightEyeOpenProbability": 0.99802166223526, "rollAngle": -0.4513063132762909, "timestamp": 1757886510927, "trackingId": "0", "yawAngle": 9.018854141235352}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 656, "width": 656, "x": 269, "y": 454}, "faceArea": 430336, "faceRatio": 0.22413333333333332, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.8496857643127441, "lightingQuality": 1, "overall": 0.9066390626271565, "sizeQuality": 0.8793333333333334, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9066390626271565
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2523.29ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:30.961Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886510410, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9987824559211731, "rightEye": 0.9999999403953552, "timestamp": 1757886510410}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.999", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 1, "leftEye": "0.999", "rightEye": "1.000"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 1, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 0, "blinkScore": 0, "historyLength": 1, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.020", "timeScore": "0.100"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 570522, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5631029387709838327.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5631029387709838327.jpg", "size": 570522, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5631029387709838327.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:31.064Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886510927, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9979193210601807, "rightEye": 0.99802166223526, "timestamp": 1757886510927}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.998", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 2, "leftEye": "0.998", "rightEye": "0.998"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 2, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 0, "blinkScore": 0, "historyLength": 2, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.040", "timeScore": "0.200"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  Photo file read successfully, content length: 760696
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  🔍 === CAMERA STATE MONITORING ===
 (NOBRIDGE) LOG  🔍 Camera ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  🔍 Camera ref state: valid
 (NOBRIDGE) LOG  🔒 Camera health check result: true
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy1310018604438041753.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy1310018604438041753.jpg"}
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -2.5347514152526855, "headEulerAngleY": 9.99783706665039, "headEulerAngleZ": -0.40324026346206665, "landmarks": [Array], "leftEyeOpenProbability": 0.9952254295349121, "rightEyeOpenProbability": 0.9932752251625061, "smilingProbability": 0.008996601216495037, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4986112049699469832.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -2.5347514152526855, "y": 9.99783706665039, "z": -0.40324026346206665}, "leftEyeOpen": 0.9952254295349121, "rightEyeOpen": 0.9932752251625061, "smiling": 0.008996601216495037, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.008996601216495037, "neutral": 0.991003398783505, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -2.5347514152526855, "y": 9.99783706665039, "z": -0.40324026346206665}, "smiling": 0.008996601216495037}, "bounds": {"height": 645, "width": 644, "x": 275, "y": 453}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9952254295349121, "rightEyeOpenProbability": 0.9932752251625061, "rollAngle": -0.40324026346206665, "timestamp": 1757886511396, "trackingId": "0", "yawAngle": 9.99783706665039}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 645, "width": 644, "x": 275, "y": 453}, "faceArea": 415380, "faceRatio": 0.21634375, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.8333693822224935, "lightingQuality": 1, "overall": 0.917323314666748, "sizeQuality": 0.91828125, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.917323314666748
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2677.74ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  🔍 === COMPREHENSIVE CAMERA STATE VALIDATION ===
 (NOBRIDGE) LOG  🔍 Camera ref exists: true
 (NOBRIDGE) LOG  🔍 Camera ref type: object
 (NOBRIDGE) LOG  🔍 Camera methods available: ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"]
 (NOBRIDGE) LOG  🔍 Has takePhoto method: true
 (NOBRIDGE) LOG  🔍 Camera props: {"audio": false, "device": {"formats": [[Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object]], "hardwareLevel": "full", "hasFlash": false, "hasTorch": false, "id": "1", "isMultiCam": false, "maxExposure": 24, "maxZoom": 10, "minExposure": -24, "minFocusDistance": 0, "minZoom": 1, "name": "1 (FRONT) androidx.camera.camera2", "neutralZoom": 1, "physicalDevices": ["wide-angle-camera"], "position": "front", "sensorOrientation": "landscape-right", "supportsFocus": true, "supportsLowLightBoost": false, "supportsRawCapture": false}, "frameProcessor": {"frameProcessor": [Function withFrameRefCountingTs1], "type": "readonly"}, "isActive": true, "onError": [Function onError], "onInitialized": [Function onInitialized], "onStarted": [Function onStarted], "photo": true, "style": {"height": "100%", "width": "100%"}, "video": false}
 (NOBRIDGE) LOG  🔍 Camera state: {"averageFpsSamples": [], "isRecordingWithFlash": false}
 (NOBRIDGE) LOG  🔍 Camera display name: Camera
 (NOBRIDGE) LOG  ✅ Camera validation passed - proceeding with capture
 (NOBRIDGE) LOG  Capturing photo with validated face...
 (NOBRIDGE) LOG  🔍 Validating camera state before final capture...
 (NOBRIDGE) LOG  ✅ Camera validation successful on attempt 1
 (NOBRIDGE) LOG  📸 Final camera state validation before photo capture...
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5631029387709838327.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5631029387709838327.jpg"}
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:31.507Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886511396, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9952254295349121, "rightEye": 0.9932752251625061, "timestamp": 1757886511396}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.994", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 3, "leftEye": "0.995", "rightEye": "0.993"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 3, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 0, "blinkScore": 0, "historyLength": 3, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.060", "timeScore": "0.300"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  ✅ Camera health check passed
 (NOBRIDGE) LOG  capturePhoto called with: {"cameraRefCurrent": {"_reactInternalInstance": {}, "_reactInternals": {"_debugHookTypes": null, "_debugInfo": null, "_debugNeedsRemount": false, "_debugOwner": [FiberNode], "actualDuration": 0.20020800083875656, "actualStartTime": 33396892.032051, "alternate": [FiberNode], "child": [FiberNode], "childLanes": 0, "deletions": null, "dependencies": null, "elementType": [Function Camera], "flags": 2097157, "index": 0, "key": "stable", "lanes": 0, "memoizedProps": [Object], "memoizedState": [Object], "mode": 3, "pendingProps": [Object], "ref": [Object], "refCleanup": null, "return": [FiberNode], "selfBaseDuration": 0.15098999813199043, "sibling": [FiberNode], "stateNode": [Circular], "subtreeFlags": 2097152, "tag": 1, "treeBaseDuration": 0.16249999776482582, "type": [Function Camera], "updateQueue": [Object]}, "context": {}, "displayName": "Camera", "isNativeViewMounted": true, "lastFrameProcessor": [Function withFrameRefCountingTs1], "lastUIRotation": 0, "onAverageFpsChanged": [Function bound onAverageFpsChanged], "onCodeScanned": [Function bound onCodeScanned], "onError": [Function bound onError], "onInitialized": [Function bound onInitialized], "onOutputOrientationChanged": [Function bound onOutputOrientationChanged], "onPreviewOrientationChanged": [Function bound onPreviewOrientationChanged], "onPreviewStarted": [Function bound onPreviewStarted], "onPreviewStopped": [Function bound onPreviewStopped], "onShutter": [Function bound onShutter], "onStarted": [Function bound onStarted], "onStopped": [Function bound onStopped], "onViewReady": [Function bound onViewReady], "props": {"audio": false, "device": [Object], "frameProcessor": [Object], "isActive": true, "onError": [Function onError], "onInitialized": [Function onInitialized], "onStarted": [Function onStarted], "photo": true, "style": [Object], "video": false}, "ref": {"current": [ReactFabricHostComponent]}, "refs": {}, "rotationHelper": {"outputOrientation": "portrait", "previewOrientation": "portrait"}, "state": {"averageFpsSamples": [Array], "isRecordingWithFlash": false}, "updater": {"enqueueForceUpdate": [Function enqueueForceUpdate], "enqueueReplaceState": [Function enqueueReplaceState], "enqueueSetState": [Function enqueueSetState], "isMounted": [Function isMounted]}}, "cameraRefState": "valid", "hasCameraRef": true, "hasTakePhotoMethod": true, "isInitialized": true}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  Capturing photo with validated face...
 (NOBRIDGE) LOG  🔍 Validating camera state before final capture...
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -3.784965991973877, "headEulerAngleY": 9.171676635742188, "headEulerAngleZ": -0.703077495098114, "landmarks": [Array], "leftEyeOpenProbability": 0.9992077946662903, "rightEyeOpenProbability": 0.997727632522583, "smilingProbability": 0.00994393602013588, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy1310018604438041753.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -3.784965991973877, "y": 9.171676635742188, "z": -0.703077495098114}, "leftEyeOpen": 0.9992077946662903, "rightEyeOpen": 0.997727632522583, "smiling": 0.00994393602013588, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.00994393602013588, "neutral": 0.9900560639798641, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -3.784965991973877, "y": 9.171676635742188, "z": -0.703077495098114}, "smiling": 0.00994393602013588}, "bounds": {"height": 650, "width": 650, "x": 272, "y": 448}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9992077946662903, "rightEyeOpenProbability": 0.997727632522583, "rollAngle": -0.703077495098114, "timestamp": 1757886511793, "trackingId": "0", "yawAngle": 9.171676635742188}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 650, "width": 650, "x": 272, "y": 448}, "faceArea": 422500, "faceRatio": 0.22005208333333334, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.8471387227376302, "lightingQuality": 1, "overall": 0.9140374501546225, "sizeQuality": 0.8997395833333334, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9140374501546225
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2758.16ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:31.891Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886511793, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9992077946662903, "rightEye": 0.997727632522583, "timestamp": 1757886511793}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.998", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 4, "leftEye": "0.999", "rightEye": "0.998"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 4, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 0, "blinkScore": 0, "historyLength": 4, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.080", "timeScore": "0.400"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  ✅ Camera validation successful on attempt 1
 (NOBRIDGE) LOG  📸 Final camera state validation before photo capture...
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -3.524583578109741, "headEulerAngleY": 9.18419361114502, "headEulerAngleZ": -0.7565546631813049, "landmarks": [Array], "leftEyeOpenProbability": 0.9996290802955627, "rightEyeOpenProbability": 0.9968274235725403, "smilingProbability": 0.008071166463196278, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5631029387709838327.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -3.524583578109741, "y": 9.18419361114502, "z": -0.7565546631813049}, "leftEyeOpen": 0.9996290802955627, "rightEyeOpen": 0.9968274235725403, "smiling": 0.008071166463196278, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.008071166463196278, "neutral": 0.9919288335368037, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -3.524583578109741, "y": 9.18419361114502, "z": -0.7565546631813049}, "smiling": 0.008071166463196278}, "bounds": {"height": 653, "width": 654, "x": 267, "y": 444}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9996290802955627, "rightEyeOpenProbability": 0.9968274235725403, "rollAngle": -0.7565546631813049, "timestamp": 1757886512208, "trackingId": "0", "yawAngle": 9.18419361114502}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 653, "width": 654, "x": 267, "y": 444}, "faceArea": 427062, "faceRatio": 0.222428125, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.8469301064809164, "lightingQuality": 1, "overall": 0.9092227819442749, "sizeQuality": 0.887859375, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9092227819442749
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2856.49ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:32.288Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886512208, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9996290802955627, "rightEye": 0.9968274235725403, "timestamp": 1757886512208}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.998", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 5, "leftEye": "1.000", "rightEye": "0.997"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 5, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Checking blink pattern at index 2 : {"curr": "0.994", "currClosed": false, "next": "0.998", "nextOpen": true, "prev": "0.998", "prevOpen": true}
 (NOBRIDGE) LOG  👁️ Micro-movement analysis: {"avgBaseline": "0.9982", "curr": "0.9943", "dipAmount": "0.0042", "next": "0.9985", "prev": "0.9980"}
 (NOBRIDGE) LOG  👁️ ✅ MICRO-MOVEMENT DETECTED! {"dipAmount": "0.0042", "threshold": "0.001"}
 (NOBRIDGE) LOG  👁️ Setting blinkDetected to true
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 1, "blinkScore": 1, "historyLength": 5, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.600", "timeScore": "0.500"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  👁️ ✅ MICRO-MOVEMENT BLINK! Count: 1
 (NOBRIDGE) LOG  ✅ Photo capture successful: {"height": 1200, "isMirrored": true, "isRawPhoto": false, "orientation": "portrait", "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2976101965570762644.jpg", "width": 1600}
 (NOBRIDGE) WARN  Value being stored in SecureStore is larger than 2048 bytes and it may not be stored successfully. In a future SDK version, this call may throw an error.
 (NOBRIDGE) LOG  ✅ Photo capture successful: {"height": 1200, "timestamp": 1757886512465, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy2976101965570762644.jpg", "width": 1600}
 (NOBRIDGE) LOG  🔍 Face encoding generation started: {"bounds": {"height": 647, "width": 647}, "eyeProbabilities": {"left": 0.9996290802955627, "right": 0.9997256398200989}, "landmarksCount": 10, "photoDimensions": {"height": 1200, "width": 1600}}
 (NOBRIDGE) LOG  🔍 MLKit landmark analysis: {"actualCount": 20, "expectedCount": 936, "landmarkModel": "10-point"}
 (NOBRIDGE) WARN  ⚠️ MLKit provided 20 landmarks (10-point model), adapting encoding strategy
 (NOBRIDGE) LOG  ✅ Adapted landmark encoding: 20 → 20 features
 (NOBRIDGE) LOG  ✅ Landmark features extracted: {"count": 20}
 (NOBRIDGE) LOG  📐 Geometric features calculated: {"angles": {"roll": "-1.42", "yaw": "11.90"}, "eyeProbabilities": {"left": "0.9996", "right": "0.9997"}, "facePosition": {"x": "0.1756", "y": "0.3692"}, "faceSize": {"height": "0.5392", "width": "0.4044"}, "nonZeroFeatures": 10, "totalFeatures": 10}
 (NOBRIDGE) LOG  🔍 Landmark count: 10, adapting measurement strategy
 (NOBRIDGE) WARN  ⚠️ Landmark index 123 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 352 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 10 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 10 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 11 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 11 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 12 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 12 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 13 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 13 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 14 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 14 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 15 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 15 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 16 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 16 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 17 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 17 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 18 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 18 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 19 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 19 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 20 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 20 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 21 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 21 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 22 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 22 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 23 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 23 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 24 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 24 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 25 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 25 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 26 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 26 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 27 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 27 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 28 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 28 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 29 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 29 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 30 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 30 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 31 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 31 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 32 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 32 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 33 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 33 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 34 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 34 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 35 out of bounds (max: 9)
 (NOBRIDGE) LOG  📏 Facial measurements calculated: {"eyeDistance": "0.0513", "faceAspectRatio": "0.7500", "facialSymmetry": "NaN", "nonZeroMeasurements": 46, "totalMeasurements": 51}
 (NOBRIDGE) WARN  ⚠️ Invalid features detected, replacing with neutral values
 (NOBRIDGE) LOG  🔍 Face encoding generation completed: {"actualDimensions": 1002, "expectedDimensions": 1002, "featureRange": {"avg": "0.9594", "max": "1.0000", "min": "-0.0886"}, "totalFeatures": 1002, "validFeatures": 999}
 (NOBRIDGE) LOG  ✅ Face encoding generated successfully: {"encodingLength": 5344, "preview": "pHDBPh+FIz+kcME+H4UjP6RwwT4fhSM/pHDBPh+FIz+kcME+H4..."}
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: processing
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: true
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "processing"}
 (NOBRIDGE) WARN  AES encryption failed, falling back to Expo crypto: [TypeError: 0, _reactNativeAesCrypto.encrypt is not a function (it is undefined)]
 (NOBRIDGE) WARN  Value being stored in SecureStore is larger than 2048 bytes and it may not be stored successfully. In a future SDK version, this call may throw an error.
 (NOBRIDGE) LOG  Face profile cached for user 15
 (NOBRIDGE) LOG  Face profile stored successfully for user: 15
 (NOBRIDGE) LOG  🛡️ Detection active flag reset - allowing cleanup
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: success
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: true
 (NOBRIDGE) LOG  🔒 Keeping camera active for multi-angle registration...
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "success"}
 (NOBRIDGE) LOG  Face registration successful for angle: 1 {"confidence": 1, "faceEncoding": "pHDBPh+FIz+kcME+H4UjP6RwwT4fhSM/pHDBPh+FIz+kcME+H4UjP6RwwT4fhSM/pHDBPh+FIz+kcME+H4UjP6RwwT4fhSM/pHDBPh+FIz8K1zM+agO9Pj0Kzz7UBgo/sed/PwXufz9uUcu80Ot/P3AXUz5lgHo/NfhRPQAAAAAAAAAAAAAAAJ4PDT5WU7w9PQrPPtQGCj8AAEA/AAAAPwAAAAD9tQ4/AAAAPwAAAD8AAAAANfhRPfmqzT1TZY49WW6uPdSS2j1ylJk9SFlWPaSCWj3pE189QY3ZPctkpT0AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8rk/k7AAAAAAAAAD+gf7W9cBdTPm5Ry7wAAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/", "isOffline": false, "livenessDetected": false, "success": true, "timestamp": 2025-09-14T21:48:32.739Z}
 (NOBRIDGE) LOG  🧹 === CLEANING UP FACE DETECTION ON UNMOUNT ===
 (NOBRIDGE) LOG  🧹 Cleaning up main camera ref
 (NOBRIDGE) LOG  🧹 Cleaning up persistent camera ref
 (NOBRIDGE) LOG  ✅ Face detection cleanup completed
 (NOBRIDGE) LOG  FaceVerificationModal cleanup - stopping all detection
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391232:24)
    at safelyCallDestroy (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31298:18)", "timestamp": "2025-09-14T21:48:34.867Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  👁️ Stopping liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection stopped
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Has timeout: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:34.889Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: false
 (NOBRIDGE) LOG  🔍 Face detected: false
 (NOBRIDGE) LOG  🔍 Face quality: false
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:34.908Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": undefined, "hasFaceData": false, "isLivenessActive": false}
 (NOBRIDGE) LOG  👁️ Not processing face data: {"reason": "No face data"}
 (NOBRIDGE) LOG  Modal hidden - stopping all detection processes
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391499:22)
    at commitHookEffectListMount (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31461:35)", "timestamp": "2025-09-14T21:48:34.917Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  👁️ Stopping liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection stopped
 (NOBRIDGE) LOG  Modal hidden - resetting verification state (not successful)
 (NOBRIDGE) WARN  ⚠️ Failed to connect camera reference after timeout
 (NOBRIDGE) LOG  🧹 === CLEANING UP FACE DETECTION ON UNMOUNT ===
 (NOBRIDGE) LOG  ✅ Face detection cleanup completed
 (NOBRIDGE) LOG  FaceVerificationModal cleanup - stopping all detection
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391232:24)
    at safelyCallDestroy (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31298:18)", "timestamp": "2025-09-14T21:48:37.223Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  👁️ Stopping liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection stopped
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Has timeout: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:37.245Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: false
 (NOBRIDGE) LOG  🔍 Face detected: false
 (NOBRIDGE) LOG  🔍 Face quality: false
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:37.261Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": undefined, "hasFaceData": false, "isLivenessActive": false}
 (NOBRIDGE) LOG  👁️ Not processing face data: {"reason": "No face data"}
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: initializing
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: false
 (NOBRIDGE) LOG  Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": false, "verificationStep": "initializing"}
 (NOBRIDGE) LOG  Modal visible - starting verification process
 (NOBRIDGE) LOG  🛡️ Detection active flag set - preventing modal cleanup
 (NOBRIDGE) WARN  ⚠️ Failed to connect camera reference after timeout
 (NOBRIDGE) LOG  Requesting camera permissions...
 (NOBRIDGE) LOG  App state changed: active -> background
 (NOBRIDGE) LOG  App went to background, keeping token refresh timer active
 (NOBRIDGE) LOG  Face detection app state changed: active -> background
 (NOBRIDGE) LOG  Liveness detection app state changed: active -> background
 (NOBRIDGE) LOG  App went to background, pausing liveness detection
 (NOBRIDGE) LOG  App state changed: background -> active
 (NOBRIDGE) LOG  App has come to the foreground!
 (NOBRIDGE) LOG  Face detection app state changed: background -> active
 (NOBRIDGE) LOG  Liveness detection app state changed: background -> active
 (NOBRIDGE) LOG  Initializing ML Kit Face Detection...
 (NOBRIDGE) LOG  ML Kit detector available, checking methods: ["status", "error", "options"]
(NOBRIDGE) LOG  ML Kit Face Detection initialized successfully with config: {"classificationMode": true, "contourMode": true, "isTrackingEnabled": true, "landmarkMode": true, "minFaceSize": 0.1, "performanceMode": "accurate"}
 (NOBRIDGE) LOG  Testing ML Kit detector...
 (NOBRIDGE) LOG  ML Kit detector test completed successfully
 (NOBRIDGE) LOG  Initializing camera with performance mode: accurate
 (NOBRIDGE) LOG  🚀 Starting periodic face detection with ML Kit...
 (NOBRIDGE) LOG  🧪 Testing ML Kit detector before starting detection...
 (NOBRIDGE) LOG  ✅ ML Kit detector is ready and has detectFaces method
 (NOBRIDGE) LOG  📊 Setting isDetecting to true and starting interval...
 (NOBRIDGE) LOG  📊 Face detection state updated: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": true, "verificationStep": "detecting"}
 (NOBRIDGE) LOG  ⏰ Starting detection interval...
 (NOBRIDGE) LOG  ✅ Face detection interval started successfully
 (NOBRIDGE) LOG  📊 Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": true, "verificationStep": "detecting"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": false, "verificationStep": "initializing"}
 (NOBRIDGE) LOG  Modal visible - starting verification process
 (NOBRIDGE) LOG  🛡️ Detection active flag set - preventing modal cleanup
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: true
 (NOBRIDGE) LOG  🔍 Has interval: true
 (NOBRIDGE) LOG  🔍 Has timeout: true
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:38.961Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: false
 (NOBRIDGE) LOG  🔍 Face detected: false
 (NOBRIDGE) LOG  🔍 Face quality: false
 (NOBRIDGE) LOG  🔍 Is detecting: true
 (NOBRIDGE) LOG  🔍 Has interval: true
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:38.977Z
 (NOBRIDGE) LOG  Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": true, "verificationStep": "initializing"}
 (NOBRIDGE) LOG  Modal visible - starting verification process
 (NOBRIDGE) LOG  🛡️ Detection active flag set - preventing modal cleanup
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:39.192Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: false
 (NOBRIDGE) LOG  🔍 Persistent ref exists: false
 (NOBRIDGE) WARN  ❌ getCameraInstance: no camera available
 (NOBRIDGE) LOG  ❌ Skipping face detection - conditions not met: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true}
 (NOBRIDGE) LOG  🔍 Camera ref missing - detection will retry when camera is connected
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:39.500Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: false
 (NOBRIDGE) LOG  🔍 Persistent ref exists: false
 (NOBRIDGE) WARN  ❌ getCameraInstance: no camera available
 (NOBRIDGE) LOG  ❌ Skipping face detection - conditions not met: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true}
 (NOBRIDGE) LOG  🔍 Camera ref missing - detection will retry when camera is connected
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:39.800Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: false
 (NOBRIDGE) LOG  🔍 Persistent ref exists: false
 (NOBRIDGE) WARN  ❌ getCameraInstance: no camera available
 (NOBRIDGE) LOG  ❌ Skipping face detection - conditions not met: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true}
 (NOBRIDGE) LOG  🔍 Camera ref missing - detection will retry when camera is connected
 (NOBRIDGE) LOG  🔄 Face detection already running (interval active), skipping start request
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: detecting
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: false
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": true, "verificationStep": "detecting"}
 (NOBRIDGE) LOG  🔄 Face detection already running (interval active), skipping start request
 (NOBRIDGE) LOG  Camera onInitialized called
 (NOBRIDGE) LOG  Camera started - ensuring detection is running
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:40.109Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: false
 (NOBRIDGE) LOG  🔍 Persistent ref exists: false
 (NOBRIDGE) WARN  ❌ getCameraInstance: no camera available
 (NOBRIDGE) LOG  ❌ Skipping face detection - conditions not met: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true}
 (NOBRIDGE) LOG  🔍 Camera ref missing - detection will retry when camera is connected
 (NOBRIDGE) LOG  Camera initialized - connecting reference to face detection hook
 (NOBRIDGE) LOG  🔍 === SETTING CAMERA REFERENCE ===
 (NOBRIDGE) LOG  🔍 Camera component exists: true
 (NOBRIDGE) LOG  🔍 Component type: object
 (NOBRIDGE) LOG  🔍 Has component: true
 (NOBRIDGE) LOG  🔍 Component methods: ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"]
 (NOBRIDGE) LOG  🔍 Has takePhoto method: true
 (NOBRIDGE) LOG  🔍 Camera reference stored in persistent ref
 (NOBRIDGE) LOG  ✅ Camera reference set successfully: {"cameraRefType": "object", "hasCameraRef": true, "hasTakePhotoMethod": true, "persistentRefState": "valid"}
 (NOBRIDGE) LOG  🔄 Camera connected during active detection - detection will now proceed
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:40.427Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:40.745Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:41.059Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3421240419512460092.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3421240419512460092.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:41.379Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3384434123034754348.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3384434123034754348.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 549251, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3421240419512460092.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3421240419512460092.jpg", "size": 549251, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3421240419512460092.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:41.692Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  Photo file read successfully, content length: 732336
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy1392997621018276732.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy1392997621018276732.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 562023, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3384434123034754348.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3384434123034754348.jpg", "size": 562023, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3384434123034754348.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy6570879699517481995.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy6570879699517481995.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  Photo file read successfully, content length: 749364
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:42.014Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3421240419512460092.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3421240419512460092.jpg"}
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5103129698325127479.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5103129698325127479.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 558715, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy1392997621018276732.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy1392997621018276732.jpg", "size": 558715, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy1392997621018276732.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3384434123034754348.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3384434123034754348.jpg"}
 (NOBRIDGE) LOG  Photo file read successfully, content length: 744956
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:42.327Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -2.529109239578247, "headEulerAngleY": -11.269498825073242, "headEulerAngleZ": 4.254215717315674, "landmarks": [Array], "leftEyeOpenProbability": 0.9974813461303711, "rightEyeOpenProbability": 0.9999999403953552, "smilingProbability": 0.0058485232293605804, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3421240419512460092.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -2.529109239578247, "y": -11.269498825073242, "z": 4.254215717315674}, "leftEyeOpen": 0.9974813461303711, "rightEyeOpen": 0.9999999403953552, "smiling": 0.0058485232293605804, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.0058485232293605804, "neutral": 0.9941514767706394, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -2.529109239578247, "y": -11.269498825073242, "z": 4.254215717315674}, "smiling": 0.0058485232293605804}, "bounds": {"height": 654, "width": 655, "x": 253, "y": 439}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9974813461303711, "rightEyeOpenProbability": 0.9999999403953552, "rollAngle": 4.254215717315674, "timestamp": 1757886522486, "trackingId": "0", "yawAngle": -11.269498825073242}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 654, "width": 655, "x": 253, "y": 439}, "faceArea": 428370, "faceRatio": 0.223109375, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.8121750195821127, "lightingQuality": 1, "overall": 0.8974337558746338, "sizeQuality": 0.8844531250000001, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.8974337558746338
 (NOBRIDGE) LOG  🔄 Detection interval cleared - face found
 (NOBRIDGE) LOG  ⏰ Detection timeout cleared - face found
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2070.18ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 553558, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy6570879699517481995.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy6570879699517481995.jpg", "size": 553558, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy6570879699517481995.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  Photo file read successfully, content length: 738080
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Has timeout: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:42.588Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:42.621Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886522486, "hasFaceData": true, "isLivenessActive": false}
 (NOBRIDGE) LOG  👁️ Not processing face data: {"reason": "Liveness not active"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "detecting"}
 (NOBRIDGE) LOG  Moving to liveness detection step - good quality face detected
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391349:24)
    at commitHookEffectListMount (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31461:35)", "timestamp": "2025-09-14T21:48:42.633Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy1392997621018276732.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy1392997621018276732.jpg"}
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: liveness
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: false
 (NOBRIDGE) LOG  🔒 Enabling camera keep-alive to prevent native view detachment
 (NOBRIDGE) LOG  🔒 Enabling camera keep-alive
 (NOBRIDGE) LOG  🔄 Critical transition detected - stabilizing camera component
 (NOBRIDGE) LOG  🔒 Monitoring camera persistence during liveness/capturing...
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  ⏰ Starting countdown timer: 5
 (NOBRIDGE) LOG  ⚠️ Liveness timeout but face detected - proceeding to capture (ultra-forgiving)
 (NOBRIDGE) LOG  🔒 Keeping camera active during transition to prevent native view detachment
 (NOBRIDGE) LOG  🔍 Stabilizing camera for final capture...
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 557490, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5103129698325127479.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5103129698325127479.jpg", "size": 557490, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5103129698325127479.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: capturing
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: true
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  Photo file read successfully, content length: 743320
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) ERROR  ❌ Photo capture failed: [unknown/unknown: Camera is closed.]
 (NOBRIDGE) LOG  Photo capture error details: {"cameraState": {"hasTakePhoto": true, "isActive": true}, "errorMessage": "Camera is closed.", "errorType": "CameraRuntimeError"}
 (NOBRIDGE) LOG  👁️ Starting liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection started successfully
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy6570879699517481995.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy6570879699517481995.jpg"}
 (NOBRIDGE) ERROR  ❌ Photo capture failed: [unknown/unknown: Camera is closed.]
 (NOBRIDGE) LOG  Photo capture error details: {"cameraState": {"hasTakePhoto": true, "isActive": true}, "errorMessage": "Camera is closed.", "errorType": "CameraRuntimeError"}
 (NOBRIDGE) LOG  Camera onInitialized called
 (NOBRIDGE) LOG  Camera started - ensuring detection is running
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -2.6630055904388428, "headEulerAngleY": -12.532694816589355, "headEulerAngleZ": 3.8390331268310547, "landmarks": [Array], "leftEyeOpenProbability": 0.9918690919876099, "rightEyeOpenProbability": 0.9999999403953552, "smilingProbability": 0.004994028247892857, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3384434123034754348.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -2.6630055904388428, "y": -12.532694816589355, "z": 3.8390331268310547}, "leftEyeOpen": 0.9918690919876099, "rightEyeOpen": 0.9999999403953552, "smiling": 0.004994028247892857, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.004994028247892857, "neutral": 0.9950059717521071, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -2.6630055904388428, "y": -12.532694816589355, "z": 3.8390331268310547}, "smiling": 0.004994028247892857}, "bounds": {"height": 655, "width": 655, "x": 238, "y": 430}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9918690919876099, "rightEyeOpenProbability": 0.9999999403953552, "rollAngle": 3.8390331268310547, "timestamp": 1757886523073, "trackingId": "0", "yawAngle": -12.532694816589355}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 655, "width": 655, "x": 238, "y": 430}, "faceArea": 429025, "faceRatio": 0.22345052083333333, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.7911217530568441, "lightingQuality": 1, "overall": 0.8904354842503865, "sizeQuality": 0.8827473958333334, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.8904354842503865
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2334.67ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886522486, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9974813461303711, "rightEye": 0.9999999403953552, "timestamp": 1757886522486}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.999", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 1, "leftEye": "0.997", "rightEye": "1.000"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 1, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 0, "blinkScore": 0, "historyLength": 1, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.020", "timeScore": "0.100"}
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5103129698325127479.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5103129698325127479.jpg"}
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:43.200Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886523073, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9918690919876099, "rightEye": 0.9999999403953552, "timestamp": 1757886523073}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.996", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 2, "leftEye": "0.992", "rightEye": "1.000"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 2, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 0, "blinkScore": 0, "historyLength": 2, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.040", "timeScore": "0.200"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  ✅ Camera component stabilized for critical transition
 (NOBRIDGE) LOG  🔍 Proactively monitoring camera state...
 (NOBRIDGE) LOG  🔍 === CAMERA STATE MONITORING ===
 (NOBRIDGE) LOG  🔍 Camera ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  🔍 Camera ref state: valid
 (NOBRIDGE) LOG  ✅ Camera state is healthy - proceeding with capture
 (NOBRIDGE) LOG  Camera initialized - connecting reference to face detection hook
 (NOBRIDGE) LOG  🔍 === SETTING CAMERA REFERENCE ===
 (NOBRIDGE) LOG  🔍 Camera component exists: true
 (NOBRIDGE) LOG  🔍 Component type: object
 (NOBRIDGE) LOG  🔍 Has component: true
 (NOBRIDGE) LOG  🔍 Component methods: ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"]
 (NOBRIDGE) LOG  🔍 Has takePhoto method: true
 (NOBRIDGE) LOG  🔍 Camera reference stored in persistent ref
 (NOBRIDGE) LOG  ✅ Camera reference set successfully: {"cameraRefType": "object", "hasCameraRef": true, "hasTakePhotoMethod": true, "persistentRefState": "valid"}
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -0.13536572456359863, "headEulerAngleY": -10.989107131958008, "headEulerAngleZ": 3.5236423015594482, "landmarks": [Array], "leftEyeOpenProbability": 0.9918690919876099, "rightEyeOpenProbability": 0.9999999403953552, "smilingProbability": 0.0058485232293605804, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy1392997621018276732.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -0.13536572456359863, "y": -10.989107131958008, "z": 3.5236423015594482}, "leftEyeOpen": 0.9918690919876099, "rightEyeOpen": 0.9999999403953552, "smiling": 0.0058485232293605804, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.0058485232293605804, "neutral": 0.9941514767706394, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -0.13536572456359863, "y": -10.989107131958008, "z": 3.5236423015594482}, "smiling": 0.0058485232293605804}, "bounds": {"height": 658, "width": 658, "x": 230, "y": 432}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9918690919876099, "rightEyeOpenProbability": 0.9999999403953552, "rollAngle": 3.5236423015594482, "timestamp": 1757886523428, "trackingId": "0", "yawAngle": -10.989107131958008}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 658, "width": 658, "x": 230, "y": 432}, "faceArea": 432964, "faceRatio": 0.22550208333333333, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.8168482144673666, "lightingQuality": 1, "overall": 0.8940502976735434, "sizeQuality": 0.8724895833333335, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.8940502976735434
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2378.43ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:43.532Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886523428, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9918690919876099, "rightEye": 0.9999999403953552, "timestamp": 1757886523428}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.996", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 3, "leftEye": "0.992", "rightEye": "1.000"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 3, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 0, "blinkScore": 0, "historyLength": 3, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.060", "timeScore": "0.300"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  🔍 === CAMERA STATE MONITORING ===
 (NOBRIDGE) LOG  🔍 Camera ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  🔍 Camera ref state: valid
 (NOBRIDGE) LOG  🔒 Camera health check result: true
 (NOBRIDGE) LOG  🔍 === COMPREHENSIVE CAMERA STATE VALIDATION ===
 (NOBRIDGE) LOG  🔍 Camera ref exists: true
 (NOBRIDGE) LOG  🔍 Camera ref type: object
 (NOBRIDGE) LOG  🔍 Camera methods available: ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"]
 (NOBRIDGE) LOG  🔍 Has takePhoto method: true
 (NOBRIDGE) LOG  🔍 Camera props: {"audio": false, "device": {"formats": [[Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object]], "hardwareLevel": "full", "hasFlash": false, "hasTorch": false, "id": "1", "isMultiCam": false, "maxExposure": 24, "maxZoom": 10, "minExposure": -24, "minFocusDistance": 0, "minZoom": 1, "name": "1 (FRONT) androidx.camera.camera2", "neutralZoom": 1, "physicalDevices": ["wide-angle-camera"], "position": "front", "sensorOrientation": "landscape-right", "supportsFocus": true, "supportsLowLightBoost": false, "supportsRawCapture": false}, "frameProcessor": {"frameProcessor": [Function withFrameRefCountingTs1], "type": "readonly"}, "isActive": true, "onError": [Function onError], "onInitialized": [Function onInitialized], "onStarted": [Function onStarted], "photo": true, "style": {"height": "100%", "width": "100%"}, "video": false}
 (NOBRIDGE) LOG  🔍 Camera state: {"averageFpsSamples": [], "isRecordingWithFlash": false}
 (NOBRIDGE) LOG  🔍 Camera display name: Camera
 (NOBRIDGE) LOG  ✅ Camera validation passed - proceeding with capture
 (NOBRIDGE) LOG  Capturing photo with validated face...
 (NOBRIDGE) LOG  🔍 Validating camera state before final capture...
 (NOBRIDGE) LOG  ✅ Camera validation successful on attempt 1
 (NOBRIDGE) LOG  📸 Final camera state validation before photo capture...
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -1.828895092010498, "headEulerAngleY": -10.40693187713623, "headEulerAngleZ": 3.446451425552368, "landmarks": [Array], "leftEyeOpenProbability": 0.9952254295349121, "rightEyeOpenProbability": 0.9999999403953552, "smilingProbability": 0.00541888689622283, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy6570879699517481995.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -1.828895092010498, "y": -10.40693187713623, "z": 3.446451425552368}, "leftEyeOpen": 0.9952254295349121, "rightEyeOpen": 0.9999999403953552, "smiling": 0.00541888689622283, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.00541888689622283, "neutral": 0.9945811131037772, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -1.828895092010498, "y": -10.40693187713623, "z": 3.446451425552368}, "smiling": 0.00541888689622283}, "bounds": {"height": 637, "width": 637, "x": 235, "y": 433}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9952254295349121, "rightEyeOpenProbability": 0.9999999403953552, "rollAngle": 3.446451425552368, "timestamp": 1757886523860, "trackingId": "0", "yawAngle": -10.40693187713623}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 637, "width": 637, "x": 235, "y": 433}, "faceArea": 405769, "faceRatio": 0.21133802083333333, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.8265511353810628, "lightingQuality": 1, "overall": 0.9252892989476522, "sizeQuality": 0.9433098958333334, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9252892989476522
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2492.73ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  ✅ Camera health check passed
 (NOBRIDGE) LOG  capturePhoto called with: {"cameraRefCurrent": {"_reactInternalInstance": {}, "_reactInternals": {"_debugHookTypes": null, "_debugInfo": null, "_debugNeedsRemount": false, "_debugOwner": [FiberNode], "actualDuration": 0.19296899437904358, "actualStartTime": 33409366.412148, "alternate": [FiberNode], "child": [FiberNode], "childLanes": 0, "deletions": null, "dependencies": null, "elementType": [Function Camera], "flags": 2097157, "index": 0, "key": "stable", "lanes": 0, "memoizedProps": [Object], "memoizedState": [Object], "mode": 3, "pendingProps": [Object], "ref": [Object], "refCleanup": null, "return": [FiberNode], "selfBaseDuration": 0.14307300001382828, "sibling": [FiberNode], "stateNode": [Circular], "subtreeFlags": 2097152, "tag": 1, "treeBaseDuration": 0.15296899899840355, "type": [Function Camera], "updateQueue": [Object]}, "context": {}, "displayName": "Camera", "isNativeViewMounted": true, "lastFrameProcessor": [Function withFrameRefCountingTs1], "lastUIRotation": 0, "onAverageFpsChanged": [Function bound onAverageFpsChanged], "onCodeScanned": [Function bound onCodeScanned], "onError": [Function bound onError], "onInitialized": [Function bound onInitialized], "onOutputOrientationChanged": [Function bound onOutputOrientationChanged], "onPreviewOrientationChanged": [Function bound onPreviewOrientationChanged], "onPreviewStarted": [Function bound onPreviewStarted], "onPreviewStopped": [Function bound onPreviewStopped], "onShutter": [Function bound onShutter], "onStarted": [Function bound onStarted], "onStopped": [Function bound onStopped], "onViewReady": [Function bound onViewReady], "props": {"audio": false, "device": [Object], "frameProcessor": [Object], "isActive": true, "onError": [Function onError], "onInitialized": [Function onInitialized], "onStarted": [Function onStarted], "photo": true, "style": [Object], "video": false}, "ref": {"current": [ReactFabricHostComponent]}, "refs": {}, "rotationHelper": {"outputOrientation": "portrait", "previewOrientation": "portrait"}, "state": {"averageFpsSamples": [Array], "isRecordingWithFlash": false}, "updater": {"enqueueForceUpdate": [Function enqueueForceUpdate], "enqueueReplaceState": [Function enqueueReplaceState], "enqueueSetState": [Function enqueueSetState], "isMounted": [Function isMounted]}}, "cameraRefState": "valid", "hasCameraRef": true, "hasTakePhotoMethod": true, "isInitialized": true}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  Capturing photo with validated face...
 (NOBRIDGE) LOG  🔍 Validating camera state before final capture...
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:43.997Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886523860, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9952254295349121, "rightEye": 0.9999999403953552, "timestamp": 1757886523860}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.998", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 4, "leftEye": "0.995", "rightEye": "1.000"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 4, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 0, "blinkScore": 0, "historyLength": 4, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.080", "timeScore": "0.400"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -1.0877255201339722, "headEulerAngleY": -10.844893455505371, "headEulerAngleZ": 2.7201130390167236, "landmarks": [Array], "leftEyeOpenProbability": 0.9961413145065308, "rightEyeOpenProbability": 0.9999999403953552, "smilingProbability": 0.0058485232293605804, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5103129698325127479.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -1.0877255201339722, "y": -10.844893455505371, "z": 2.7201130390167236}, "leftEyeOpen": 0.9961413145065308, "rightEyeOpen": 0.9999999403953552, "smiling": 0.0058485232293605804, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.0058485232293605804, "neutral": 0.9941514767706394, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -1.0877255201339722, "y": -10.844893455505371, "z": 2.7201130390167236}, "smiling": 0.0058485232293605804}, "bounds": {"height": 642, "width": 642, "x": 241, "y": 429}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9961413145065308, "rightEyeOpenProbability": 0.9999999403953552, "rollAngle": 2.7201130390167236, "timestamp": 1757886524185, "trackingId": "0", "yawAngle": -10.844893455505371}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 642, "width": 642, "x": 241, "y": 429}, "faceArea": 412164, "faceRatio": 0.21466875, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.8192517757415771, "lightingQuality": 1, "overall": 0.9164380327224732, "sizeQuality": 0.9266562500000001, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9164380327224732
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2496.35ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:44.271Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886524185, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9961413145065308, "rightEye": 0.9999999403953552, "timestamp": 1757886524185}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.998", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 5, "leftEye": "0.996", "rightEye": "1.000"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 5, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Checking blink pattern at index 2 : {"curr": "0.996", "currClosed": false, "next": "0.998", "nextOpen": true, "prev": "0.996", "prevOpen": true}
 (NOBRIDGE) LOG  👁️ Micro-movement analysis: {"avgBaseline": "0.9968", "curr": "0.9959", "dipAmount": "0.0017", "next": "0.9976", "prev": "0.9959"}
 (NOBRIDGE) LOG  👁️ ✅ MICRO-MOVEMENT DETECTED! {"dipAmount": "0.0017", "threshold": "0.001"}
 (NOBRIDGE) LOG  👁️ Setting blinkDetected to true
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 1, "blinkScore": 1, "historyLength": 5, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.600", "timeScore": "0.500"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  ✅ Camera validation successful on attempt 1
 (NOBRIDGE) LOG  📸 Final camera state validation before photo capture...
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  👁️ ✅ MICRO-MOVEMENT BLINK! Count: 1
 (NOBRIDGE) LOG  ✅ Photo capture successful: {"height": 1200, "isMirrored": true, "isRawPhoto": false, "orientation": "portrait", "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy7234501382955289705.jpg", "width": 1600}
 (NOBRIDGE) WARN  Value being stored in SecureStore is larger than 2048 bytes and it may not be stored successfully. In a future SDK version, this call may throw an error.
 (NOBRIDGE) LOG  ✅ Photo capture successful: {"height": 1200, "timestamp": 1757886524805, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy7234501382955289705.jpg", "width": 1600}
 (NOBRIDGE) LOG  🔍 Face encoding generation started: {"bounds": {"height": 654, "width": 655}, "eyeProbabilities": {"left": 0.9974813461303711, "right": 0.9999999403953552}, "landmarksCount": 10, "photoDimensions": {"height": 1200, "width": 1600}}
 (NOBRIDGE) LOG  🔍 MLKit landmark analysis: {"actualCount": 20, "expectedCount": 936, "landmarkModel": "10-point"}
 (NOBRIDGE) WARN  ⚠️ MLKit provided 20 landmarks (10-point model), adapting encoding strategy
 (NOBRIDGE) LOG  ✅ Adapted landmark encoding: 20 → 20 features
 (NOBRIDGE) LOG  ✅ Landmark features extracted: {"count": 20}
 (NOBRIDGE) LOG  📐 Geometric features calculated: {"angles": {"roll": "4.25", "yaw": "-11.27"}, "eyeProbabilities": {"left": "0.9975", "right": "1.0000"}, "facePosition": {"x": "0.1581", "y": "0.3658"}, "faceSize": {"height": "0.5450", "width": "0.4094"}, "nonZeroFeatures": 10, "totalFeatures": 10}
 (NOBRIDGE) LOG  🔍 Landmark count: 10, adapting measurement strategy
 (NOBRIDGE) WARN  ⚠️ Landmark index 123 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 352 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 10 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 10 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 11 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 11 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 12 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 12 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 13 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 13 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 14 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 14 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 15 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 15 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 16 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 16 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 17 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 17 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 18 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 18 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 19 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 19 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 20 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 20 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 21 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 21 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 22 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 22 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 23 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 23 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 24 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 24 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 25 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 25 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 26 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 26 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 27 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 27 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 28 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 28 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 29 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 29 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 30 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 30 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 31 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 31 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 32 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 32 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 33 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 33 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 34 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 34 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 35 out of bounds (max: 9)
 (NOBRIDGE) LOG  📏 Facial measurements calculated: {"eyeDistance": "0.0440", "faceAspectRatio": "0.7511", "facialSymmetry": "NaN", "nonZeroMeasurements": 46, "totalMeasurements": 51}
 (NOBRIDGE) WARN  ⚠️ Invalid features detected, replacing with neutral values
 (NOBRIDGE) LOG  🔍 Face encoding generation completed: {"actualDimensions": 1002, "expectedDimensions": 1002, "featureRange": {"avg": "0.9573", "max": "1.0000", "min": "-0.1954"}, "totalFeatures": 1002, "validFeatures": 999}
 (NOBRIDGE) LOG  ✅ Face encoding generated successfully: {"encodingLength": 5344, "preview": "j8K5PtBpIz+Pwrk+0GkjP4/CuT7QaSM/j8K5PtBpIz+Pwrk+0G..."}
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: processing
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: true
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "processing"}
 (NOBRIDGE) WARN  AES encryption failed, falling back to Expo crypto: [TypeError: 0, _reactNativeAesCrypto.encrypt is not a function (it is undefined)]
 (NOBRIDGE) WARN  Value being stored in SecureStore is larger than 2048 bytes and it may not be stored successfully. In a future SDK version, this call may throw an error.
 (NOBRIDGE) LOG  Face profile cached for user 15
 (NOBRIDGE) LOG  Face profile stored successfully for user: 15
 (NOBRIDGE) LOG  🛡️ Detection active flag reset - allowing cleanup
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: success
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: true
 (NOBRIDGE) LOG  🔒 Keeping camera active for multi-angle registration...
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "success"}
 (NOBRIDGE) LOG  Face registration successful for angle: 2 {"confidence": 1, "faceEncoding": "j8K5PtBpIz+Pwrk+0GkjP4/CuT7QaSM/j8K5PtBpIz+Pwrk+0GkjP4/CuT7QaSM/j8K5PtBpIz+Pwrk+0GkjP4/CuT7QaSM/j8K5PtBpIz+F6yE+gk67PpqZ0T4fhQs/8Fp/P///fz+p7Jc9bkt/P0EdSL5kEHs/xmA0PQAAAAAAAAAAAAAAABw4DT4m1IU9mpnRPh+FCz8oS0A/AAAAPwAAAACdhSw/AAAAPwAAAD8AAAAAxmA0Pe5FtD3F71Q9svhJPYG2zD1vEmM90levPS8piz00h7E9WPnZPT6xkj3ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/4pL87AAAAAAAAAD92vjS9QR1Ivqnslz3ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/8pt/P/Kbfz/ym38/", "isOffline": false, "livenessDetected": false, "success": true, "timestamp": 2025-09-14T21:48:45.118Z}
 (NOBRIDGE) LOG  🧹 === CLEANING UP FACE DETECTION ON UNMOUNT ===
 (NOBRIDGE) LOG  🧹 Cleaning up main camera ref
 (NOBRIDGE) LOG  🧹 Cleaning up persistent camera ref
 (NOBRIDGE) LOG  ✅ Face detection cleanup completed
 (NOBRIDGE) LOG  FaceVerificationModal cleanup - stopping all detection
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391232:24)
    at safelyCallDestroy (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31298:18)", "timestamp": "2025-09-14T21:48:47.193Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  👁️ Stopping liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection stopped
 (NOBRIDGE) LOG  ✅ User face_registered status updated successfully
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Has timeout: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:47.725Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: false
 (NOBRIDGE) LOG  🔍 Face detected: false
 (NOBRIDGE) LOG  🔍 Face quality: false
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:47.741Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": undefined, "hasFaceData": false, "isLivenessActive": false}
 (NOBRIDGE) LOG  👁️ Not processing face data: {"reason": "No face data"}
 (NOBRIDGE) LOG  Modal hidden - stopping all detection processes
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391499:22)
    at commitHookEffectListMount (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31461:35)", "timestamp": "2025-09-14T21:48:47.749Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  👁️ Stopping liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection stopped
 (NOBRIDGE) LOG  Modal hidden - resetting verification state (not successful)
 (NOBRIDGE) LOG  🧹 === CLEANING UP FACE DETECTION ON UNMOUNT ===
 (NOBRIDGE) LOG  ✅ Face detection cleanup completed
 (NOBRIDGE) LOG  FaceVerificationModal cleanup - stopping all detection
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391232:24)
    at safelyCallDestroy (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31298:18)", "timestamp": "2025-09-14T21:48:48.818Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  👁️ Stopping liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection stopped
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Has timeout: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:48.841Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: false
 (NOBRIDGE) LOG  🔍 Face detected: false
 (NOBRIDGE) LOG  🔍 Face quality: false
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:48.857Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": undefined, "hasFaceData": false, "isLivenessActive": false}
 (NOBRIDGE) LOG  👁️ Not processing face data: {"reason": "No face data"}
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: initializing
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: false
 (NOBRIDGE) LOG  Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": false, "verificationStep": "initializing"}
 (NOBRIDGE) LOG  Modal visible - starting verification process
 (NOBRIDGE) LOG  🛡️ Detection active flag set - preventing modal cleanup
 (NOBRIDGE) WARN  ⚠️ Failed to connect camera reference after timeout
 (NOBRIDGE) LOG  Requesting camera permissions...
 (NOBRIDGE) LOG  App state changed: active -> background
 (NOBRIDGE) LOG  App went to background, keeping token refresh timer active
 (NOBRIDGE) LOG  Face detection app state changed: active -> background
 (NOBRIDGE) LOG  Liveness detection app state changed: active -> background
 (NOBRIDGE) LOG  App went to background, pausing liveness detection
 (NOBRIDGE) LOG  App state changed: background -> active
 (NOBRIDGE) LOG  App has come to the foreground!
 (NOBRIDGE) LOG  Face detection app state changed: background -> active
 (NOBRIDGE) LOG  Liveness detection app state changed: background -> active
 (NOBRIDGE) LOG  Initializing ML Kit Face Detection...
 (NOBRIDGE) LOG  ML Kit detector available, checking methods: ["status", "error", "options"]
(NOBRIDGE) LOG  ML Kit Face Detection initialized successfully with config: {"classificationMode": true, "contourMode": true, "isTrackingEnabled": true, "landmarkMode": true, "minFaceSize": 0.1, "performanceMode": "accurate"}
 (NOBRIDGE) LOG  Testing ML Kit detector...
 (NOBRIDGE) LOG  ML Kit detector test completed successfully
 (NOBRIDGE) LOG  Initializing camera with performance mode: accurate
 (NOBRIDGE) LOG  🚀 Starting periodic face detection with ML Kit...
 (NOBRIDGE) LOG  🧪 Testing ML Kit detector before starting detection...
 (NOBRIDGE) LOG  ✅ ML Kit detector is ready and has detectFaces method
 (NOBRIDGE) LOG  📊 Setting isDetecting to true and starting interval...
 (NOBRIDGE) LOG  📊 Face detection state updated: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": true, "verificationStep": "detecting"}
 (NOBRIDGE) LOG  ⏰ Starting detection interval...
 (NOBRIDGE) LOG  ✅ Face detection interval started successfully
 (NOBRIDGE) LOG  📊 Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": true, "verificationStep": "detecting"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": false, "verificationStep": "initializing"}
 (NOBRIDGE) LOG  Modal visible - starting verification process
 (NOBRIDGE) LOG  🛡️ Detection active flag set - preventing modal cleanup
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: true
 (NOBRIDGE) LOG  🔍 Has interval: true
 (NOBRIDGE) LOG  🔍 Has timeout: true
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:50.557Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: false
 (NOBRIDGE) LOG  🔍 Face detected: false
 (NOBRIDGE) LOG  🔍 Face quality: false
 (NOBRIDGE) LOG  🔍 Is detecting: true
 (NOBRIDGE) LOG  🔍 Has interval: true
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:50.574Z
 (NOBRIDGE) LOG  Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": true, "verificationStep": "initializing"}
 (NOBRIDGE) LOG  Modal visible - starting verification process
 (NOBRIDGE) LOG  🛡️ Detection active flag set - preventing modal cleanup
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:50.784Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: false
 (NOBRIDGE) LOG  🔍 Persistent ref exists: false
 (NOBRIDGE) WARN  ❌ getCameraInstance: no camera available
 (NOBRIDGE) LOG  ❌ Skipping face detection - conditions not met: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true}
 (NOBRIDGE) LOG  🔍 Camera ref missing - detection will retry when camera is connected
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:51.092Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: false
 (NOBRIDGE) LOG  🔍 Persistent ref exists: false
 (NOBRIDGE) WARN  ❌ getCameraInstance: no camera available
 (NOBRIDGE) LOG  ❌ Skipping face detection - conditions not met: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true}
 (NOBRIDGE) LOG  🔍 Camera ref missing - detection will retry when camera is connected
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:51.400Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: false
 (NOBRIDGE) LOG  🔍 Persistent ref exists: false
 (NOBRIDGE) WARN  ❌ getCameraInstance: no camera available
 (NOBRIDGE) LOG  ❌ Skipping face detection - conditions not met: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true}
 (NOBRIDGE) LOG  🔍 Camera ref missing - detection will retry when camera is connected
 (NOBRIDGE) LOG  🔄 Face detection already running (interval active), skipping start request
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: detecting
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: false
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  Face detection state: {"faceData": false, "faceDetected": false, "faceQuality": undefined, "isDetecting": true, "verificationStep": "detecting"}
 (NOBRIDGE) LOG  🔄 Face detection already running (interval active), skipping start request
 (NOBRIDGE) LOG  Camera onInitialized called
 (NOBRIDGE) LOG  Camera started - ensuring detection is running
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:51.711Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: false
 (NOBRIDGE) LOG  🔍 Persistent ref exists: false
 (NOBRIDGE) WARN  ❌ getCameraInstance: no camera available
 (NOBRIDGE) LOG  ❌ Skipping face detection - conditions not met: {"hasCamera": false, "hasMLKit": true, "isDetecting": false, "isMounted": true}
 (NOBRIDGE) LOG  🔍 Camera ref missing - detection will retry when camera is connected
 (NOBRIDGE) LOG  Camera initialized - connecting reference to face detection hook
 (NOBRIDGE) LOG  🔍 === SETTING CAMERA REFERENCE ===
 (NOBRIDGE) LOG  🔍 Camera component exists: true
 (NOBRIDGE) LOG  🔍 Component type: object
 (NOBRIDGE) LOG  🔍 Has component: true
 (NOBRIDGE) LOG  🔍 Component methods: ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"]
 (NOBRIDGE) LOG  🔍 Has takePhoto method: true
 (NOBRIDGE) LOG  🔍 Camera reference stored in persistent ref
 (NOBRIDGE) LOG  ✅ Camera reference set successfully: {"cameraRefType": "object", "hasCameraRef": true, "hasTakePhotoMethod": true, "persistentRefState": "valid"}
 (NOBRIDGE) LOG  🔄 Camera connected during active detection - detection will now proceed
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:52.026Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:52.327Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:52.643Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4578125838906974188.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4578125838906974188.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:52.960Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5619209858980348994.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5619209858980348994.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:53.278Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 604863, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4578125838906974188.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4578125838906974188.jpg", "size": 604863, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4578125838906974188.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3219572592582879012.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3219572592582879012.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  Photo file read successfully, content length: 806484
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 613954, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5619209858980348994.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5619209858980348994.jpg", "size": 613954, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5619209858980348994.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:53.599Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  Photo file read successfully, content length: 818608
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4578125838906974188.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4578125838906974188.jpg"}
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8091585266371015706.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8091585266371015706.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 615920, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3219572592582879012.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3219572592582879012.jpg", "size": 615920, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3219572592582879012.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  Photo file read successfully, content length: 821228
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  🔄 Detection interval triggered - calling processPeriodicFaceDetection...
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS STARTED ===
 (NOBRIDGE) LOG  🔄 processPeriodicFaceDetection called: {"hasCamera": true, "hasMLKit": true, "isDetecting": false, "isMounted": true, "timestamp": "2025-09-14T21:48:53.910Z"}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  ✅ Starting periodic face detection with enhanced photo processing...
 (NOBRIDGE) LOG  ✅ Camera is active and ready for photo capture
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5619209858980348994.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5619209858980348994.jpg"}
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy189856834849346326.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy189856834849346326.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -6.732239723205566, "headEulerAngleY": 1.4383453130722046, "headEulerAngleZ": -0.6740327477455139, "landmarks": [Array], "leftEyeOpenProbability": 0.9983530044555664, "rightEyeOpenProbability": 0.998312771320343, "smilingProbability": 0.0062830084934830666, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4578125838906974188.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -6.732239723205566, "y": 1.4383453130722046, "z": -0.6740327477455139}, "leftEyeOpen": 0.9983530044555664, "rightEyeOpen": 0.998312771320343, "smiling": 0.0062830084934830666, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.0062830084934830666, "neutral": 0.9937169915065169, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -6.732239723205566, "y": 1.4383453130722046, "z": -0.6740327477455139}, "smiling": 0.0062830084934830666}, "bounds": {"height": 659, "width": 658, "x": 248, "y": 415}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9983530044555664, "rightEyeOpenProbability": 0.998312771320343, "rollAngle": -0.6740327477455139, "timestamp": 1757886534073, "trackingId": "0", "yawAngle": 1.4383453130722046}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 659, "width": 658, "x": 248, "y": 415}, "faceArea": 433622, "faceRatio": 0.22584479166666666, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.9760275781154633, "lightingQuality": 1, "overall": 0.9411186901013056, "sizeQuality": 0.8707760416666668, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9411186901013056
 (NOBRIDGE) LOG  🔄 Detection interval cleared - face found
 (NOBRIDGE) LOG  ⏰ Detection timeout cleared - face found
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2059.95ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  📸 Attempting to capture photo for face detection...
 (NOBRIDGE) LOG  🔍 Camera state before photo capture: {"cameraMethods": ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"], "cameraRefExists": true, "hasTakePhoto": true, "isActive": true}
 (NOBRIDGE) LOG  ⚙️ Optimizing camera settings for ML Kit...
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Has timeout: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:54.181Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:54.201Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886534073, "hasFaceData": true, "isLivenessActive": false}
 (NOBRIDGE) LOG  👁️ Not processing face data: {"reason": "Liveness not active"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "detecting"}
 (NOBRIDGE) LOG  Moving to liveness detection step - good quality face detected
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391349:24)
    at commitHookEffectListMount (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31461:35)", "timestamp": "2025-09-14T21:48:54.212Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3219572592582879012.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3219572592582879012.jpg"}
 (NOBRIDGE) LOG  ✅ Photo captured successfully: {"height": 1200, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5870462492463629579.jpg", "width": 1600}
 (NOBRIDGE) LOG  📁 Photo URI generated: file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5870462492463629579.jpg
 (NOBRIDGE) LOG  Processing photo for ML Kit compatibility...
 (NOBRIDGE) LOG  Waiting for photo file to be fully written...
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: liveness
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: false
 (NOBRIDGE) LOG  🔒 Enabling camera keep-alive to prevent native view detachment
 (NOBRIDGE) LOG  🔒 Enabling camera keep-alive
 (NOBRIDGE) LOG  🔄 Critical transition detected - stabilizing camera component
 (NOBRIDGE) LOG  🔒 Monitoring camera persistence during liveness/capturing...
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  ⏰ Starting countdown timer: 5
 (NOBRIDGE) LOG  ⚠️ Liveness timeout but face detected - proceeding to capture (ultra-forgiving)
 (NOBRIDGE) LOG  🔒 Keeping camera active during transition to prevent native view detachment
 (NOBRIDGE) LOG  🔍 Stabilizing camera for final capture...
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 618469, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8091585266371015706.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8091585266371015706.jpg", "size": 618469, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8091585266371015706.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: capturing
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: true
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  Photo file read successfully, content length: 824628
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) ERROR  ❌ Photo capture failed: [unknown/unknown: Camera is closed.]
 (NOBRIDGE) LOG  Photo capture error details: {"cameraState": {"hasTakePhoto": true, "isActive": true}, "errorMessage": "Camera is closed.", "errorType": "CameraRuntimeError"}
 (NOBRIDGE) LOG  👁️ Starting liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection started successfully
 (NOBRIDGE) LOG  Camera onInitialized called
 (NOBRIDGE) LOG  Camera started - ensuring detection is running
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -7.168560981750488, "headEulerAngleY": 1.2929155826568604, "headEulerAngleZ": -1.3035258054733276, "landmarks": [Array], "leftEyeOpenProbability": 0.9996290802955627, "rightEyeOpenProbability": 0.9999999403953552, "smilingProbability": 0.007616420742124319, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5619209858980348994.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -7.168560981750488, "y": 1.2929155826568604, "z": -1.3035258054733276}, "leftEyeOpen": 0.9996290802955627, "rightEyeOpen": 0.9999999403953552, "smiling": 0.007616420742124319, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.007616420742124319, "neutral": 0.9923835792578757, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -7.168560981750488, "y": 1.2929155826568604, "z": -1.3035258054733276}, "smiling": 0.007616420742124319}, "bounds": {"height": 656, "width": 656, "x": 252, "y": 426}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9996290802955627, "rightEyeOpenProbability": 0.9999999403953552, "rollAngle": -1.3035258054733276, "timestamp": 1757886534632, "trackingId": "0", "yawAngle": 1.2929155826568604}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 656, "width": 656, "x": 252, "y": 426}, "faceArea": 430336, "faceRatio": 0.22413333333333332, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.9782745699087779, "lightingQuality": 1, "overall": 0.9452157043059668, "sizeQuality": 0.8793333333333334, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9452157043059668
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2313.49ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 619036, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy189856834849346326.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy189856834849346326.jpg", "size": 619036, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy189856834849346326.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886534073, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9983530044555664, "rightEye": 0.998312771320343, "timestamp": 1757886534073}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.998", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 1, "leftEye": "0.998", "rightEye": "0.998"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 1, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 0, "blinkScore": 0, "historyLength": 1, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.020", "timeScore": "0.100"}
 (NOBRIDGE) LOG  Photo file read successfully, content length: 825384
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:54.780Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886534632, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9996290802955627, "rightEye": 0.9999999403953552, "timestamp": 1757886534632}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "1.000", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 2, "leftEye": "1.000", "rightEye": "1.000"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 2, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 0, "blinkScore": 0, "historyLength": 2, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.040", "timeScore": "0.200"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8091585266371015706.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8091585266371015706.jpg"}
 (NOBRIDGE) LOG  Camera initialized - connecting reference to face detection hook
 (NOBRIDGE) LOG  🔍 === SETTING CAMERA REFERENCE ===
 (NOBRIDGE) LOG  🔍 Camera component exists: true
 (NOBRIDGE) LOG  🔍 Component type: object
 (NOBRIDGE) LOG  🔍 Has component: true
 (NOBRIDGE) LOG  🔍 Component methods: ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"]
 (NOBRIDGE) LOG  🔍 Has takePhoto method: true
 (NOBRIDGE) LOG  🔍 Camera reference stored in persistent ref
 (NOBRIDGE) LOG  ✅ Camera reference set successfully: {"cameraRefType": "object", "hasCameraRef": true, "hasTakePhotoMethod": true, "persistentRefState": "valid"}
 (NOBRIDGE) LOG  ✅ Camera component stabilized for critical transition
 (NOBRIDGE) LOG  🔍 Proactively monitoring camera state...
 (NOBRIDGE) LOG  🔍 === CAMERA STATE MONITORING ===
 (NOBRIDGE) LOG  🔍 Camera ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  🔍 Camera ref state: valid
 (NOBRIDGE) LOG  ✅ Camera state is healthy - proceeding with capture
 (NOBRIDGE) LOG  Photo file verification: {"exists": true, "fileSize": 569839, "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5870462492463629579.jpg"}
 (NOBRIDGE) LOG  Photo file verified successfully: {"path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5870462492463629579.jpg", "size": 569839, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5870462492463629579.jpg"}
 (NOBRIDGE) LOG  Applying ML Kit photo processing...
 (NOBRIDGE) LOG  Photo file read successfully, content length: 759788
 (NOBRIDGE) LOG  ✅ Photo has valid image format header
 (NOBRIDGE) LOG  Additional delay for file system sync...
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy189856834849346326.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy189856834849346326.jpg"}
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -7.112759113311768, "headEulerAngleY": 0.57557213306427, "headEulerAngleZ": -0.9571234583854675, "landmarks": [Array], "leftEyeOpenProbability": 0.9983530044555664, "rightEyeOpenProbability": 0.9999999403953552, "smilingProbability": 0.0058485232293605804, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy3219572592582879012.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -7.112759113311768, "y": 0.57557213306427, "z": -0.9571234583854675}, "leftEyeOpen": 0.9983530044555664, "rightEyeOpen": 0.9999999403953552, "smiling": 0.0058485232293605804, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.0058485232293605804, "neutral": 0.9941514767706394, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -7.112759113311768, "y": 0.57557213306427, "z": -0.9571234583854675}, "smiling": 0.0058485232293605804}, "bounds": {"height": 651, "width": 651, "x": 262, "y": 425}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9983530044555664, "rightEyeOpenProbability": 0.9999999403953552, "rollAngle": -0.9571234583854675, "timestamp": 1757886535032, "trackingId": "0", "yawAngle": 0.57557213306427}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 651, "width": 651, "x": 262, "y": 425}, "faceArea": 423801, "faceRatio": 0.2207296875, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.9840479423602422, "lightingQuality": 1, "overall": 0.9537550077080728, "sizeQuality": 0.8963515625, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9537550077080728
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2401.14ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:55.129Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886535032, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9983530044555664, "rightEye": 0.9999999403953552, "timestamp": 1757886535032}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.999", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 3, "leftEye": "0.998", "rightEye": "1.000"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 3, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 0, "blinkScore": 0, "historyLength": 3, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.060", "timeScore": "0.300"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  🤖 Sending photo to ML Kit for face detection...
 (NOBRIDGE) LOG  🔍 ML Kit detector state before detection: {"availableMethods": ["status", "error", "options"], "detectorType": "object", "isInitialized": true, "photoPath": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5870462492463629579.jpg", "photoUri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5870462492463629579.jpg"}
 (NOBRIDGE) LOG  🔍 === CAMERA STATE MONITORING ===
 (NOBRIDGE) LOG  🔍 Camera ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  🔍 Camera ref state: valid
 (NOBRIDGE) LOG  🔒 Camera health check result: true
 (NOBRIDGE) LOG  🔍 === COMPREHENSIVE CAMERA STATE VALIDATION ===
 (NOBRIDGE) LOG  🔍 Camera ref exists: true
 (NOBRIDGE) LOG  🔍 Camera ref type: object
 (NOBRIDGE) LOG  🔍 Camera methods available: ["props", "context", "refs", "updater", "displayName", "isNativeViewMounted", "lastUIRotation", "rotationHelper", "onViewReady", "onAverageFpsChanged", "onInitialized", "onStarted", "onStopped", "onPreviewStarted", "onPreviewStopped", "onShutter", "onOutputOrientationChanged", "onPreviewOrientationChanged", "onError", "onCodeScanned", "ref", "lastFrameProcessor", "state", "_reactInternals", "_reactInternalInstance"]
 (NOBRIDGE) LOG  🔍 Has takePhoto method: true
 (NOBRIDGE) LOG  🔍 Camera props: {"audio": false, "device": {"formats": [[Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object], [Object]], "hardwareLevel": "full", "hasFlash": false, "hasTorch": false, "id": "1", "isMultiCam": false, "maxExposure": 24, "maxZoom": 10, "minExposure": -24, "minFocusDistance": 0, "minZoom": 1, "name": "1 (FRONT) androidx.camera.camera2", "neutralZoom": 1, "physicalDevices": ["wide-angle-camera"], "position": "front", "sensorOrientation": "landscape-right", "supportsFocus": true, "supportsLowLightBoost": false, "supportsRawCapture": false}, "frameProcessor": {"frameProcessor": [Function withFrameRefCountingTs1], "type": "readonly"}, "isActive": true, "onError": [Function onError], "onInitialized": [Function onInitialized], "onStarted": [Function onStarted], "photo": true, "style": {"height": "100%", "width": "100%"}, "video": false}
 (NOBRIDGE) LOG  🔍 Camera state: {"averageFpsSamples": [], "isRecordingWithFlash": false}
 (NOBRIDGE) LOG  🔍 Camera display name: Camera
 (NOBRIDGE) LOG  ✅ Camera validation passed - proceeding with capture
 (NOBRIDGE) LOG  Capturing photo with validated face...
 (NOBRIDGE) LOG  🔍 Validating camera state before final capture...
 (NOBRIDGE) LOG  ✅ Camera validation successful on attempt 1
 (NOBRIDGE) LOG  📸 Final camera state validation before photo capture...
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -6.499344348907471, "headEulerAngleY": 0.1726570427417755, "headEulerAngleZ": -0.6692163944244385, "landmarks": [Array], "leftEyeOpenProbability": 0.9952254295349121, "rightEyeOpenProbability": 0.9999999403953552, "smilingProbability": 0.0058485232293605804, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy8091585266371015706.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -6.499344348907471, "y": 0.1726570427417755, "z": -0.6692163944244385}, "leftEyeOpen": 0.9952254295349121, "rightEyeOpen": 0.9999999403953552, "smiling": 0.0058485232293605804, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.0058485232293605804, "neutral": 0.9941514767706394, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -6.499344348907471, "y": 0.1726570427417755, "z": -0.6692163944244385}, "smiling": 0.0058485232293605804}, "bounds": {"height": 668, "width": 668, "x": 243, "y": 424}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9952254295349121, "rightEyeOpenProbability": 0.9999999403953552, "rollAngle": -0.6692163944244385, "timestamp": 1757886535420, "trackingId": "0", "yawAngle": 0.1726570427417755}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 668, "width": 668, "x": 243, "y": 424}, "faceArea": 446224, "faceRatio": 0.23240833333333333, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.9888463934262594, "lightingQuality": 1, "overall": 0.9318372513612112, "sizeQuality": 0.8379583333333334, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9318372513612112
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2465.27ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:55.517Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886535420, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9952254295349121, "rightEye": 0.9999999403953552, "timestamp": 1757886535420}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.998", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 4, "leftEye": "0.995", "rightEye": "1.000"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 4, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 0, "blinkScore": 0, "historyLength": 4, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.080", "timeScore": "0.400"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  ✅ Camera health check passed
 (NOBRIDGE) LOG  capturePhoto called with: {"cameraRefCurrent": {"_reactInternalInstance": {}, "_reactInternals": {"_debugHookTypes": null, "_debugInfo": null, "_debugNeedsRemount": false, "_debugOwner": [FiberNode], "actualDuration": 0.21078100055456161, "actualStartTime": 33420919.70757, "alternate": [FiberNode], "child": [FiberNode], "childLanes": 0, "deletions": null, "dependencies": null, "elementType": [Function Camera], "flags": 2097157, "index": 0, "key": "stable", "lanes": 0, "memoizedProps": [Object], "memoizedState": [Object], "mode": 3, "pendingProps": [Object], "ref": [Object], "refCleanup": null, "return": [FiberNode], "selfBaseDuration": 0.1571349985897541, "sibling": [FiberNode], "stateNode": [Circular], "subtreeFlags": 2097152, "tag": 1, "treeBaseDuration": 0.1677599996328354, "type": [Function Camera], "updateQueue": [Object]}, "context": {}, "displayName": "Camera", "isNativeViewMounted": true, "lastFrameProcessor": [Function withFrameRefCountingTs1], "lastUIRotation": 0, "onAverageFpsChanged": [Function bound onAverageFpsChanged], "onCodeScanned": [Function bound onCodeScanned], "onError": [Function bound onError], "onInitialized": [Function bound onInitialized], "onOutputOrientationChanged": [Function bound onOutputOrientationChanged], "onPreviewOrientationChanged": [Function bound onPreviewOrientationChanged], "onPreviewStarted": [Function bound onPreviewStarted], "onPreviewStopped": [Function bound onPreviewStopped], "onShutter": [Function bound onShutter], "onStarted": [Function bound onStarted], "onStopped": [Function bound onStopped], "onViewReady": [Function bound onViewReady], "props": {"audio": false, "device": [Object], "frameProcessor": [Object], "isActive": true, "onError": [Function onError], "onInitialized": [Function onInitialized], "onStarted": [Function onStarted], "photo": true, "style": [Object], "video": false}, "ref": {"current": [ReactFabricHostComponent]}, "refs": {}, "rotationHelper": {"outputOrientation": "portrait", "previewOrientation": "portrait"}, "state": {"averageFpsSamples": [Array], "isRecordingWithFlash": false}, "updater": {"enqueueForceUpdate": [Function enqueueForceUpdate], "enqueueReplaceState": [Function enqueueReplaceState], "enqueueSetState": [Function enqueueSetState], "isMounted": [Function isMounted]}}, "cameraRefState": "valid", "hasCameraRef": true, "hasTakePhotoMethod": true, "isInitialized": true}
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  Capturing photo with validated face...
 (NOBRIDGE) LOG  🔍 Validating camera state before final capture...
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -5.344821453094482, "headEulerAngleY": 0.3461059033870697, "headEulerAngleZ": -0.7536566853523254, "landmarks": [Array], "leftEyeOpenProbability": 1, "rightEyeOpenProbability": 0.9997256398200989, "smilingProbability": 0.0058485232293605804, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy189856834849346326.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -5.344821453094482, "y": 0.3461059033870697, "z": -0.7536566853523254}, "leftEyeOpen": 1, "rightEyeOpen": 0.9997256398200989, "smiling": 0.0058485232293605804, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.0058485232293605804, "neutral": 0.9941514767706394, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -5.344821453094482, "y": 0.3461059033870697, "z": -0.7536566853523254}, "smiling": 0.0058485232293605804}, "bounds": {"height": 667, "width": 667, "x": 243, "y": 425}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 1, "rightEyeOpenProbability": 0.9997256398200989, "rollAngle": -0.7536566853523254, "timestamp": 1757886535820, "trackingId": "0", "yawAngle": 0.3461059033870697}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 667, "width": 667, "x": 243, "y": 425}, "faceArea": 444889, "faceRatio": 0.23171302083333334, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.9874390552441279, "lightingQuality": 1, "overall": 0.9328056749065718, "sizeQuality": 0.8414348958333333, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9328056749065718
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2546.56ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  ✅ Camera validation successful on attempt 1
 (NOBRIDGE) LOG  📸 Final camera state validation before photo capture...
 (NOBRIDGE) LOG  🔍 === GET CAMERA INSTANCE ===
 (NOBRIDGE) LOG  🔍 Main ref exists: true
 (NOBRIDGE) LOG  🔍 Persistent ref exists: true
 (NOBRIDGE) LOG  ✅ getCameraInstance: returning main ref camera instance
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:55.916Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886535820, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 1, "rightEye": 0.9997256398200989, "timestamp": 1757886535820}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "1.000", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 5, "leftEye": "1.000", "rightEye": "1.000"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 5, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Checking blink pattern at index 2 : {"curr": "0.999", "currClosed": false, "next": "0.998", "nextOpen": true, "prev": "1.000", "prevOpen": true}
 (NOBRIDGE) LOG  👁️ Micro-movement analysis: {"avgBaseline": "0.9987", "curr": "0.9992", "dipAmount": "0.0006", "next": "0.9976", "prev": "0.9998"}
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 0, "blinkScore": 0, "historyLength": 5, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.100", "timeScore": "0.500"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  ✅ ML Kit detection completed successfully: {"faceCount": 1, "faces": [{"contours": [Array], "frame": [Object], "headEulerAngleX": -5.670541763305664, "headEulerAngleY": 1.0068533420562744, "headEulerAngleZ": -1.2181122303009033, "landmarks": [Array], "leftEyeOpenProbability": 0.9992077946662903, "rightEyeOpenProbability": 0.9965211153030396, "smilingProbability": 0.006722430698573589, "trackingID": 0}], "rawResult": {"faces": [[Object]], "imagePath": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy5870462492463629579.jpg"}, "success": true}
 (NOBRIDGE) LOG  🎉 SUCCESS: Face detection completed with 1 face(s)
 (NOBRIDGE) LOG  🎯 Processing detected faces...
 (NOBRIDGE) LOG  👤 Detected face details: {"headAngles": {"x": -5.670541763305664, "y": 1.0068533420562744, "z": -1.2181122303009033}, "leftEyeOpen": 0.9992077946662903, "rightEyeOpen": 0.9965211153030396, "smiling": 0.006722430698573589, "trackingID": 0}
 (NOBRIDGE) LOG  🔄 Converted face data: {"attributes": {"age": undefined, "emotions": {"angry": 0, "happy": 0.006722430698573589, "neutral": 0.9932775693014264, "sad": 0, "surprised": 0}, "gender": undefined, "headEulerAngles": {"x": -5.670541763305664, "y": 1.0068533420562744, "z": -1.2181122303009033}, "smiling": 0.006722430698573589}, "bounds": {"height": 659, "width": 659, "x": 249, "y": 433}, "contours": [{"points": [Array], "type": "1"}, {"points": [Array], "type": "2"}, {"points": [Array], "type": "3"}, {"points": [Array], "type": "4"}, {"points": [Array], "type": "5"}, {"points": [Array], "type": "6"}, {"points": [Array], "type": "7"}, {"points": [Array], "type": "8"}, {"points": [Array], "type": "9"}, {"points": [Array], "type": "10"}, {"points": [Array], "type": "11"}, {"points": [Array], "type": "12"}, {"points": [Array], "type": "13"}, {"points": [Array], "type": "14"}, {"points": [Array], "type": "15"}], "faceId": "0", "landmarks": [{"position": [Object], "type": "0"}, {"position": [Object], "type": "1"}, {"position": [Object], "type": "3"}, {"position": [Object], "type": "4"}, {"position": [Object], "type": "5"}, {"position": [Object], "type": "6"}, {"position": [Object], "type": "7"}, {"position": [Object], "type": "9"}, {"position": [Object], "type": "10"}, {"position": [Object], "type": "11"}], "leftEyeOpenProbability": 0.9992077946662903, "rightEyeOpenProbability": 0.9965211153030396, "rollAngle": -1.2181122303009033, "timestamp": 1757886536184, "trackingId": "0", "yawAngle": 1.0068533420562744}
 (NOBRIDGE) LOG  Face quality calculation: {"bounds": {"height": 659, "width": 659, "x": 249, "y": 433}, "faceArea": 434281, "faceRatio": 0.22618802083333334, "maxFaceSize": 0.6, "minFaceSize": 0.05, "screenArea": 1920000}
 (NOBRIDGE) LOG  Quality scores: {"angleQuality": 0.9796981294949849, "lightingQuality": 1, "overall": 0.9415333971818289, "sizeQuality": 0.8690598958333333, "threshold": 0.4}
 (NOBRIDGE) LOG  ✅ Face detection state updated successfully
 (NOBRIDGE) LOG  📊 Face quality score: 0.9415333971818289
 (NOBRIDGE) LOG  🎉 Face detection completed successfully - stopping all timers
 (NOBRIDGE) LOG  ⏱️ Face detection process completed in 2583.44ms
 (NOBRIDGE) LOG  === MAIN FACE DETECTION PROCESS COMPLETED ===
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: true
 (NOBRIDGE) LOG  🔍 Face detected: true
 (NOBRIDGE) LOG  🔍 Face quality: true
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:56.267Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": 1757886536184, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing face data for liveness detection
 (NOBRIDGE) LOG  👁️ processFaceData called: {"faceDataDetails": {"leftEye": 0.9992077946662903, "rightEye": 0.9965211153030396, "timestamp": 1757886536184}, "hasFaceData": true, "isLivenessActive": true}
 (NOBRIDGE) LOG  👁️ Processing liveness data: {"average": "0.998", "eyeClosedThreshold": 0.98, "eyeOpenThreshold": 0.995, "historyLength": 5, "leftEye": "0.999", "rightEye": "0.997"}
 (NOBRIDGE) LOG  👁️ Analyzing blink pattern in history: {"historyLength": 5, "minRequired": 5}
 (NOBRIDGE) LOG  👁️ Checking blink pattern at index 2 : {"curr": "0.998", "currClosed": false, "next": "1.000", "nextOpen": true, "prev": "0.999", "prevOpen": true}
 (NOBRIDGE) LOG  👁️ Micro-movement analysis: {"avgBaseline": "0.9995", "curr": "0.9976", "dipAmount": "0.0023", "next": "0.9999", "prev": "0.9992"}
 (NOBRIDGE) LOG  👁️ ✅ MICRO-MOVEMENT DETECTED! {"dipAmount": "0.0023", "threshold": "0.001"}
 (NOBRIDGE) LOG  👁️ Setting blinkDetected to true
 (NOBRIDGE) LOG  👁️ Liveness score calculation: {"blinkCount": 1, "blinkScore": 1, "historyLength": 5, "minRequired": 0.1, "movementScore": "0.000", "overallScore": "0.600", "timeScore": "0.500"}
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "capturing"}
 (NOBRIDGE) LOG  👁️ ✅ MICRO-MOVEMENT BLINK! Count: 1
 (NOBRIDGE) LOG  ✅ Photo capture successful: {"height": 1200, "isMirrored": true, "isRawPhoto": false, "orientation": "portrait", "path": "/data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4354737290359771948.jpg", "width": 1600}
 (NOBRIDGE) WARN  Value being stored in SecureStore is larger than 2048 bytes and it may not be stored successfully. In a future SDK version, this call may throw an error.
 (NOBRIDGE) LOG  ✅ Photo capture successful: {"height": 1200, "timestamp": 1757886536397, "uri": "file:///data/user/0/com.avyrentechnologies.avytracker/cache/mrousavy4354737290359771948.jpg", "width": 1600}
 (NOBRIDGE) LOG  🔍 Face encoding generation started: {"bounds": {"height": 659, "width": 658}, "eyeProbabilities": {"left": 0.9983530044555664, "right": 0.998312771320343}, "landmarksCount": 10, "photoDimensions": {"height": 1200, "width": 1600}}
 (NOBRIDGE) LOG  🔍 MLKit landmark analysis: {"actualCount": 20, "expectedCount": 936, "landmarkModel": "10-point"}
 (NOBRIDGE) WARN  ⚠️ MLKit provided 20 landmarks (10-point model), adapting encoding strategy
 (NOBRIDGE) LOG  ✅ Adapted landmark encoding: 20 → 20 features
 (NOBRIDGE) LOG  ✅ Landmark features extracted: {"count": 20}
 (NOBRIDGE) LOG  📐 Geometric features calculated: {"angles": {"roll": "-0.67", "yaw": "1.44"}, "eyeProbabilities": {"left": "0.9984", "right": "0.9983"}, "facePosition": {"x": "0.1550", "y": "0.3458"}, "faceSize": {"height": "0.5492", "width": "0.4113"}, "nonZeroFeatures": 10, "totalFeatures": 10}
 (NOBRIDGE) LOG  🔍 Landmark count: 10, adapting measurement strategy
 (NOBRIDGE) WARN  ⚠️ Landmark index 123 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 352 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 10 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 10 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 11 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 11 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 12 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 12 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 13 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 13 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 14 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 14 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 15 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 15 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 16 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 16 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 17 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 17 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 18 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 18 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 19 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 19 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 20 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 20 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 21 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 21 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 22 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 22 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 23 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 23 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 24 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 24 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 25 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 25 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 26 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 26 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 27 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 27 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 28 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 28 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 29 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 29 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 30 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 30 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 31 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 31 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 32 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 32 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 33 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 33 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 34 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 34 out of bounds (max: 9)
 (NOBRIDGE) WARN  ⚠️ Landmark index 35 out of bounds (max: 9)
 (NOBRIDGE) LOG  📏 Facial measurements calculated: {"eyeDistance": "0.0495", "faceAspectRatio": "0.7489", "facialSymmetry": "NaN", "nonZeroMeasurements": 46, "totalMeasurements": 51}
 (NOBRIDGE) WARN  ⚠️ Invalid features detected, replacing with neutral values
 (NOBRIDGE) LOG  🔍 Face encoding generation completed: {"actualDimensions": 1002, "expectedDimensions": 1002, "featureRange": {"avg": "0.9572", "max": "0.9999", "min": "-0.1172"}, "totalFeatures": 1002, "validFeatures": 999}
 (NOBRIDGE) LOG  ✅ Face encoding generated successfully: {"encodingLength": 5344, "preview": "16O4PqDTHj/Xo7g+oNMeP9ejuD6g0x4/16O4PqDTHj/Xo7g+oN..."}
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: processing
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: true
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "processing"}
 (NOBRIDGE) LOG  🔍 Face verification debug: {"currentEncodingLength": 5344, "hasStoredEncoding": true, "storedEncodingLength": 5344, "threshold": 0.7, "userId": 15}
 (NOBRIDGE) LOG  🔍 Starting face encoding comparison...
 (NOBRIDGE) LOG  🔍 Encoding details: {"currentEncodingLength": 5344, "currentEncodingPreview": "16O4PqDTHj/Xo7g+oNMeP9ejuD6g0x4/16O4PqDTHj/Xo7g+oN...", "storedEncodingLength": 5344, "storedEncodingPreview": "j8K5PtBpIz+Pwrk+0GkjP4/CuT7QaSM/j8K5PtBpIz+Pwrk+0G..."}
 (NOBRIDGE) LOG  🔍 Encoding comparison details: {"encoding1Length": 5344, "encoding1Preview": "j8K5PtBpIz+Pwrk+0GkjP4/CuT7QaSM/j8K5PtBpIz+Pwrk+0G...", "encoding2Length": 5344, "encoding2Preview": "16O4PqDTHj/Xo7g+oNMeP9ejuD6g0x4/16O4PqDTHj/Xo7g+oN...", "features1Length": 1002, "features2Length": 1002}
 (NOBRIDGE) LOG  Feature validity check: {"attributeValid": true, "geometricValid": true, "measurementValid": true, "weights": {"attribute": 0, "geometric": 0.3, "landmark": 0.6, "measurement": 0.1}}
 (NOBRIDGE) LOG  📊 Enhanced confidence calculation: {"adjustedWeights": {"attribute": 0, "geometric": 0.3, "landmark": 0.6, "measurement": 0.1}, "featureValidity": {"attributeValid": true, "geometricValid": true, "measurementValid": true}, "finalConfidence": "1.0000", "originalWeights": {"attribute": 0, "geometric": 0.3, "landmark": 0.6, "measurement": 0.1}}
 (NOBRIDGE) LOG  Enhanced face comparison results: {"attributeSimilarity": "1.0000", "encodingLengths": {"encoding1": 1002, "encoding2": 1002}, "featureCounts": {"attributes": 6, "geometric": 10, "landmarks": 936, "measurements": 50}, "geometricSimilarity": "1.0000", "landmarkSimilarity": "1.0000", "measurementSimilarity": "1.0000", "overallSimilarity": "1.0000", "threshold": 0.7}
 (NOBRIDGE) LOG  🔍 Face encoding comparison completed: {"adjustedThreshold": 0.699, "confidence": "1.0000", "confidenceAboveThreshold": true, "threshold": 0.7, "tolerance": 0.001}
 (NOBRIDGE) LOG  🔍 Performing anti-spoofing analysis...
 (NOBRIDGE) LOG  🛡️ Anti-spoofing analysis completed: {"depthScore": "0.6000", "isSpoofed": false, "lightingScore": "0.9933", "overallScore": "0.7687", "reflectionScore": "0.7000", "textureScore": "0.8000"}
 (NOBRIDGE) LOG  🔍 Success determination: {"antiSpoofingPassed": true, "confidence": "1.0000", "effectiveThreshold": 0.7, "isCompatibilityMode": false, "originalThreshold": 0.7}
 (NOBRIDGE) LOG  🛡️ Detection active flag reset - allowing cleanup
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: success
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: true
 (NOBRIDGE) LOG  🔓 Disabling camera keep-alive - verification complete
 (NOBRIDGE) LOG  🔓 Disabling camera keep-alive
 (NOBRIDGE) LOG  🔍 Camera keep-alive effect completed
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "success"}
 (NOBRIDGE) LOG  🔍 === CAMERA KEEP-ALIVE EFFECT TRIGGERED ===
 (NOBRIDGE) LOG  🔍 Verification step changed to: success
 (NOBRIDGE) LOG  🔍 Current camera keep-alive state: false
 (NOBRIDGE) LOG  Face detection state: {"faceData": true, "faceDetected": true, "faceQuality": true, "isDetecting": false, "verificationStep": "success"}
 (NOBRIDGE) LOG  Verification test successful: {"confidence": 0.9999780396462113, "faceEncoding": "16O4PqDTHj/Xo7g+oNMeP9ejuD6g0x4/16O4PqDTHj/Xo7g+oNMeP9ejuD6g0x4/16O4PqDTHj/Xo7g+oNMeP9ejuD6g0x4/16O4PqDTHj9SuB4+ERGxPlyP0j4wlgw/EJR/P22Rfz8JvUC8d/t/PxWhzTxa638/XvBKPQAAAAAAAAAAAAAAAKT1DT78gao9XI/SPjCWDD9qtT8/AAAAPwAAAACXWBg/AAAAPwAAAD8AAAAAXvBKPQmOxT1TH3494xWEPWPA1z1JiYY9ICmLPSUYgz0htIc9piLdPUEdpT2NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+y4c07AAAAAAAAAD8OFvC9FaHNPAm9QLyNnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/jZx/P42cfz+NnH8/", "isOffline": false, "livenessDetected": false, "success": true, "timestamp": 2025-09-14T21:48:56.665Z}
 (NOBRIDGE) LOG  🧹 === CLEANING UP FACE DETECTION ON UNMOUNT ===
 (NOBRIDGE) LOG  🧹 Cleaning up main camera ref
 (NOBRIDGE) LOG  🧹 Cleaning up persistent camera ref
 (NOBRIDGE) LOG  ✅ Face detection cleanup completed
 (NOBRIDGE) LOG  FaceVerificationModal cleanup - stopping all detection
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391232:24)
    at safelyCallDestroy (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31298:18)", "timestamp": "2025-09-14T21:48:58.794Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  👁️ Stopping liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection stopped
 (NOBRIDGE) LOG  🔍 === isDetecting STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 New value: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Has timeout: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:58.815Z
 (NOBRIDGE) LOG  🔍 === FACE DETECTION STATE CHANGED ===
 (NOBRIDGE) LOG  🔍 Face data: false
 (NOBRIDGE) LOG  🔍 Face detected: false
 (NOBRIDGE) LOG  🔍 Face quality: false
 (NOBRIDGE) LOG  🔍 Is detecting: false
 (NOBRIDGE) LOG  🔍 Has interval: false
 (NOBRIDGE) LOG  🔍 Camera state: active
 (NOBRIDGE) LOG  🔍 Timestamp: 2025-09-14T21:48:58.832Z
 (NOBRIDGE) LOG  👁️ Face data effect triggered: {"faceDataTimestamp": undefined, "hasFaceData": false, "isLivenessActive": false}
 (NOBRIDGE) LOG  👁️ Not processing face data: {"reason": "No face data"}
 (NOBRIDGE) LOG  Modal hidden - stopping all detection processes
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391499:22)
    at commitHookEffectListMount (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31461:35)", "timestamp": "2025-09-14T21:48:58.842Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  👁️ Stopping liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection stopped
 (NOBRIDGE) LOG  Modal hidden - resetting verification state (not successful)
 (NOBRIDGE) WARN  ⚠️ Failed to connect camera reference after timeout
(NOBRIDGE) LOG  🧹 === CLEANING UP FACE DETECTION ON UNMOUNT ===
 (NOBRIDGE) LOG  ✅ Face detection cleanup completed
 (NOBRIDGE) LOG  FaceVerificationModal cleanup - stopping all detection
 (NOBRIDGE) LOG  🛑 stopDetection called: {"hasInterval": false, "hasTimeout": false, "isDetecting": false, "stack": "    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:393170:25)
    at anonymous (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:391232:24)
    at safelyCallDestroy (http://192.168.0.126:8081/node_modules/expo-router/entry.bundle//&platform=android&dev=true&hot=false&transform.engine=hermes&transform.bytecode=1&transform.routerRoot=app&unstable_transformProfile=hermes-stable:31298:18)", "timestamp": "2025-09-14T21:49:00.659Z"}
 (NOBRIDGE) LOG  🛑 Face detection stopped - isDetecting set to false
 (NOBRIDGE) LOG  👁️ Stopping liveness detection...
 (NOBRIDGE) LOG  👁️ Liveness detection stopped
 (NOBRIDGE) LOG  Current tasks: []
 (NOBRIDGE) LOG  Current user: {"company_id": 1, "email": "ramesh@company.com", "id": 15, "name": "Ramesh", "phone": "+919434945454", "role": "employee"}
 (NOBRIDGE) LOG  Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTUsInJvbGUiOiJlbXBsb3llZSIsImNvbXBhbnlfaWQiOjEsInRva2VuX3ZlcnNpb24iOjAsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTc4ODYwMzUsImV4cCI6MTc1ODQ5MDgzNX0.Hr0W0ECUity66xCf3YvW6BMdNEF-3F9ebnxir54_uSI
 (NOBRIDGE) LOG  Current user: {"company_id": 1, "email": "ramesh@company.com", "id": 15, "name": "Ramesh", "phone": "+919434945454", "role": "employee"}
 (NOBRIDGE) LOG  Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTUsInJvbGUiOiJlbXBsb3llZSIsImNvbXBhbnlfaWQiOjEsInRva2VuX3ZlcnNpb24iOjAsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTc4ODYwMzUsImV4cCI6MTc1ODQ5MDgzNX0.Hr0W0ECUity66xCf3YvW6BMdNEF-3F9ebnxir54_uSI
 (NOBRIDGE) LOG  Current tasks: []
 (NOBRIDGE)